(()=>{var __webpack_modules__={858:(__unused_webpack_module,__unused_webpack___webpack_exports__,__webpack_require__)=>{"use strict";eval("\n// UNUSED EXPORTS: default\n\n;// CONCATENATED MODULE: external \"angular\"\nconst external_angular_namespaceObject = angular;\nvar external_angular_default = /*#__PURE__*/__webpack_require__.n(external_angular_namespaceObject);\n// EXTERNAL MODULE: ./node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js\nvar injectStylesIntoStyleTag = __webpack_require__(379);\nvar injectStylesIntoStyleTag_default = /*#__PURE__*/__webpack_require__.n(injectStylesIntoStyleTag);\n// EXTERNAL MODULE: ./node_modules/style-loader/dist/runtime/styleDomAPI.js\nvar styleDomAPI = __webpack_require__(795);\nvar styleDomAPI_default = /*#__PURE__*/__webpack_require__.n(styleDomAPI);\n// EXTERNAL MODULE: ./node_modules/style-loader/dist/runtime/insertBySelector.js\nvar insertBySelector = __webpack_require__(569);\nvar insertBySelector_default = /*#__PURE__*/__webpack_require__.n(insertBySelector);\n// EXTERNAL MODULE: ./node_modules/style-loader/dist/runtime/setAttributesWithoutAttributes.js\nvar setAttributesWithoutAttributes = __webpack_require__(565);\nvar setAttributesWithoutAttributes_default = /*#__PURE__*/__webpack_require__.n(setAttributesWithoutAttributes);\n// EXTERNAL MODULE: ./node_modules/style-loader/dist/runtime/insertStyleElement.js\nvar insertStyleElement = __webpack_require__(216);\nvar insertStyleElement_default = /*#__PURE__*/__webpack_require__.n(insertStyleElement);\n// EXTERNAL MODULE: ./node_modules/style-loader/dist/runtime/styleTagTransform.js\nvar styleTagTransform = __webpack_require__(589);\nvar styleTagTransform_default = /*#__PURE__*/__webpack_require__.n(styleTagTransform);\n// EXTERNAL MODULE: ./node_modules/css-loader/index.js!./node_modules/sass-loader/dist/cjs.js!./chat/convo-chat.scss\nvar convo_chat = __webpack_require__(892);\nvar convo_chat_default = /*#__PURE__*/__webpack_require__.n(convo_chat);\n;// CONCATENATED MODULE: ./chat/convo-chat.scss\n\n      \n      \n      \n      \n      \n      \n      \n      \n      \n\nvar options = {};\n\noptions.styleTagTransform = (styleTagTransform_default());\noptions.setAttributes = (setAttributesWithoutAttributes_default());\n\n      options.insert = insertBySelector_default().bind(null, \"head\");\n    \noptions.domAPI = (styleDomAPI_default());\noptions.insertStyleElement = (insertStyleElement_default());\n\nvar update = injectStylesIntoStyleTag_default()((convo_chat_default()), options);\n\n\n\n\n       /* harmony default export */ const chat_convo_chat = ((convo_chat_default()) && (convo_chat_default()).locals ? (convo_chat_default()).locals : undefined);\n\n;// CONCATENATED MODULE: ./chat/convo-chat-api.js\nConvoChatApi.$inject = [\"$log\", \"$http\", \"CONVO_PUBLIC_API_BASE_URL\"];\nConvoChatApi.$inject = [\"$log\", \"$http\", \"CONVO_PUBLIC_API_BASE_URL\"];\n/* @ngInject */\nfunction ConvoChatApi($log, $http, CONVO_PUBLIC_API_BASE_URL) {\n  this.sendMessage = sendMessage;\n  function sendMessage(serviceId, installationId, deviceId, sessionId, text, isLaunch, variant, timezone) {\n    if (!variant) {\n      variant = 'develop';\n    }\n    return $http({\n      method: \"post\",\n      url: CONVO_PUBLIC_API_BASE_URL + '/service-run/convo_chat/' + variant + '/' + serviceId,\n      data: {\n        installation_id: installationId,\n        device_id: deviceId,\n        session_id: sessionId,\n        text: text,\n        launch: isLaunch,\n        timezone: timezone\n      }\n    }).then(function (response) {\n      $log.log('ConvoChatApi sendMessage response.data', response.data);\n      return response.data;\n    });\n  }\n}\n;\n// EXTERNAL MODULE: ./node_modules/@babel/runtime-corejs2/core-js/json/stringify.js\nvar stringify = __webpack_require__(450);\nvar stringify_default = /*#__PURE__*/__webpack_require__.n(stringify);\n;// CONCATENATED MODULE: ./chat/convo-chat-persister.js\nConvoChatPersister.$inject = [\"$log\", \"$window\"];\nConvoChatPersister.$inject = [\"$log\", \"$window\"];\n\n/* @ngInject */\nfunction ConvoChatPersister($log, $window) {\n  this.createPersister = createPersister;\n  this.getUserId = getUserId;\n  this.getInstallationId = getInstallationId;\n  this.getDeviceId = getDeviceId;\n  function getUserId() {\n    var user_id = $window.localStorage.getItem('convo_chat_user_id');\n    if (!user_id) {\n      user_id = _generateUUIDV4();\n      $window.localStorage.setItem('convo_chat_user_id', user_id);\n    }\n    return user_id;\n  }\n  function getInstallationId(serviceId) {\n    return getDeviceId() + '_' + serviceId;\n  }\n  function getDeviceId() {\n    return getUserId();\n  }\n  function _generateUUIDV4() {\n    return ([1e7] + -1e3 + -4e3 + -8e3 + -1e11).replace(/[018]/g, function (c) {\n      return (c ^ crypto.getRandomValues(new Uint8Array(1))[0] & 15 >> c / 4).toString(16);\n    });\n  }\n  function createPersister(serviceId, sessionId) {\n    return new ChatPersister(serviceId, sessionId);\n  }\n  function ChatPersister(serviceId) {\n    this.serviceId = serviceId;\n  }\n  ChatPersister.prototype.getCurrentSessionId = function () {\n    var key = 'convo_chat_session' + getDeviceId();\n    var session_id = $window.localStorage.getItem(key);\n    if (!session_id) {\n      session_id = this.startNewSession();\n    }\n    return session_id;\n  };\n  ChatPersister.prototype.startNewSession = function () {\n    var key = 'convo_chat_session' + getDeviceId();\n    var old_session_id = $window.localStorage.getItem(key);\n    if (old_session_id) {\n      this._clearSessionInformation(old_session_id);\n    }\n    var session_id = _generateUUIDV4();\n    $window.localStorage.setItem(key, session_id);\n    return session_id;\n  };\n  ChatPersister.prototype.isOpen = function (defaultOpen) {\n    var session = this._getSessionInformation();\n    $log.log('ChatPersister isOpen()', 'session', session);\n    if ('open' in session) {\n      return session['open'];\n    }\n    return defaultOpen;\n  };\n  ChatPersister.prototype.setOpen = function () {\n    var session = this._getSessionInformation();\n    session['open'] = true;\n    this._setSessionInformation(session);\n  };\n  ChatPersister.prototype.setClosed = function () {\n    var session = this._getSessionInformation();\n    session['open'] = false;\n    this._setSessionInformation(session);\n  };\n  ChatPersister.prototype.setMessages = function (messages) {\n    var session = this._getSessionInformation();\n    session['messages'] = messages;\n    this._setSessionInformation(session);\n  };\n  ChatPersister.prototype.getMessages = function () {\n    var session = this._getSessionInformation();\n    if ('messages' in session) {\n      return session['messages'];\n    }\n    return [];\n  };\n  ChatPersister.prototype.sessionStarted = function () {\n    var session = this._getSessionInformation();\n    return session['sessionStarted'];\n  };\n  ChatPersister.prototype.startSession = function () {\n    var session = this._getSessionInformation();\n    session['sessionStarted'] = true;\n    this._setSessionInformation(session);\n  };\n  ChatPersister.prototype._getSessionInformation = function () {\n    var session = $window.localStorage.getItem(this._getSessionKey(this.getCurrentSessionId()));\n    if (typeof session === 'undefined' || session === null) {\n      $log.log('ChatPersister _getSessionInformation() returning empty sessionId', this.getCurrentSessionId(), 'session', session);\n      return {\n        sessionStarted: false\n      };\n    }\n    $log.log('ChatPersister _getSessionInformation() sessionId', this.getCurrentSessionId(), 'session', session);\n    return JSON.parse(session);\n  };\n  ChatPersister.prototype._setSessionInformation = function (session) {\n    var value = stringify_default()(session);\n    $log.log('ChatPersister _setSessionInformation() saving value sessionId', this.getCurrentSessionId(), 'value', value);\n    $window.localStorage.setItem(this._getSessionKey(this.getCurrentSessionId()), value);\n  };\n  ChatPersister.prototype._clearSessionInformation = function (sessionId) {\n    $window.localStorage.removeItem(this._getSessionKey(sessionId));\n  };\n  ChatPersister.prototype._getSessionKey = function (sessionId) {\n    return 'chat_session_' + this.serviceId + '_' + sessionId;\n  };\n}\n;\n// EXTERNAL MODULE: ./chat/chatbox.tmpl.html\nvar chatbox_tmpl = __webpack_require__(462);\nvar chatbox_tmpl_default = /*#__PURE__*/__webpack_require__.n(chatbox_tmpl);\n;// CONCATENATED MODULE: ./chat/chatbox.directive.js\nconvoChatbox.$inject = [\"$log\", \"$sce\", \"$timeout\", \"$window\", \"$location\", \"ConvoChatApi\", \"ConvoChatPersister\"];\nconvoChatbox.$inject = [\"$log\", \"$sce\", \"$timeout\", \"$window\", \"$location\", \"ConvoChatApi\", \"ConvoChatPersister\"];\n\nvar showdown = __webpack_require__(787);\n\n/* @ngInject */\nfunction convoChatbox($log, $sce, $timeout, $window, $location, ConvoChatApi, ConvoChatPersister) {\n  $log.log('convoChatbox init');\n  return {\n    restrict: 'E',\n    template: (chatbox_tmpl_default()),\n    scope: {\n      serviceId: '=',\n      name: '=?',\n      variant: '=?'\n    },\n    link: function link($scope, $elem, $attrs) {\n      $log.log('convoChatbox link $scope.serviceId', $scope.serviceId);\n      var REPROMPT_TIMEOUT = 20 * 1000;\n      var SEQUENCE_TIMEOUT = 2 * 1000;\n      var sending = true;\n      var initialized = false;\n      var reprompt_timeout = null;\n      var sequence_timeout = null;\n      var device_id = ConvoChatPersister.getDeviceId();\n      var installation_id = ConvoChatPersister.getInstallationId($scope.serviceId);\n      var persister = ConvoChatPersister.createPersister($scope.serviceId);\n      var session_id = persister.getCurrentSessionId();\n      var timezone = Intl.DateTimeFormat().resolvedOptions().timeZone;\n      $scope.message = '';\n      $scope.messages = [];\n      $scope.collapsed = !persister.isOpen(false);\n      $log.log('convoChatbox link() $scope.collapsed', $scope.collapsed, 'session_id', session_id);\n      if (!$scope.collapsed) {\n        _init();\n      }\n      var input = $elem.find('input[type=text]')[0];\n      $log.log('convoChatbox link input', input);\n      $window.onfocus = function () {\n        $log.log('convoChatbox onfocus');\n        $scope.$apply(function () {\n          $scope.messages = persister.getMessages();\n          $scope.collapsed = !persister.isOpen(false);\n          session_id = persister.getCurrentSessionId();\n          //                    if ( $scope.messages.length) {\n          //                        initialized = true;\n          //                        sending = false;\n          //                    } else {\n          //                        initialized = false;\n          //                        sending = true;\n          //                    }\n        });\n      };\n\n      $scope.formSubmitted = function () {\n        $log.log('convoChatbox formSubmitted()', $scope.message);\n        var msg = {\n          text: $scope.message,\n          source: 'user'\n        };\n        sending = true;\n        _appendBreak();\n        _appendUserMessage(msg);\n        _cancelMsgs();\n        ConvoChatApi.sendMessage($scope.serviceId, installation_id, device_id, session_id, $scope.message, false, $scope.variant, timezone).then(function (response) {\n          $log.log('convoChatbox formSubmitted() sendMessage() response', response);\n          $scope.message = '';\n          _readResponse(response);\n        }, function (reason) {\n          $log.error('convoChatbox formSubmitted() sendMessage() reason', reason);\n          _handleError(reason);\n        })[\"finally\"](function () {\n          $log.log('convoChatbox formSubmitted() sendMessage() finally');\n          sending = false;\n        });\n      };\n      $scope.applyMarkdown = function (msg) {\n        if (msg.source != 'convo') {\n          return $sce.trustAsHtml(msg.text);\n        }\n        var converter = new showdown.Converter({\n          disableForced4SpacesIndentedSublists: true\n        });\n        var htmlContent = converter.makeHtml(msg.text);\n        return $sce.trustAsHtml(htmlContent);\n      };\n      $scope.formDisabled = function () {\n        return sending || $scope.message.trim() == '';\n      };\n      $scope.isSending = function () {\n        return sending;\n      };\n      $scope.close = function () {\n        $scope.collapsed = true;\n        persister.setClosed();\n      };\n      $scope.reset = function () {\n        session_id = persister.startNewSession();\n        persister.setClosed();\n        $scope.message = '';\n        $scope.messages = [];\n        $scope.collapsed = true;\n        sending = true;\n        initialized = false;\n      };\n      $scope.open = function () {\n        $scope.collapsed = false;\n        persister.setOpen();\n      };\n      function _init() {\n        $log.log('convoChatbox _init()');\n        initialized = true;\n        if (persister.sessionStarted()) {\n          var messages = persister.getMessages();\n          $log.log('convoChatbox _init() session exists messages', messages);\n          $scope.messages = messages;\n          sending = false;\n        } else {\n          ConvoChatApi.sendMessage($scope.serviceId, installation_id, device_id, session_id, '', true, $scope.variant, timezone).then(function (response) {\n            $log.log('convoChatbox _init() response', response);\n            persister.startSession();\n            _readResponse(response);\n          }, function (reason) {\n            $log.error('convoChatbox _init() reason', reason);\n            _handleError(reason);\n          })[\"finally\"](function () {\n            $log.log('convoChatbox _init() finally');\n            sending = false;\n          });\n        }\n      }\n      function _handleError(reason) {\n        if (reason.status === 403 || reason.data && reason.data.code === \"rest_cookie_invalid_nonce\") {\n          if ($window.confirm(\"Your chat session needs to be refreshed to continue securely. Click 'OK' to refresh the page. Please note: if you have unsaved text, make sure to copy it before refreshing.\")) {\n            sending = true;\n            $window.location.reload();\n          }\n        }\n      }\n      function _readResponse(data) {\n        _appendBreak();\n        _appendSequence(data.text_responses, true);\n        if (data.text_reprompts.length) {\n          reprompt_timeout = $timeout(function () {\n            _appendBreak();\n            _appendSequence(data.text_reprompts, true);\n          }, REPROMPT_TIMEOUT);\n        }\n      }\n      function _appendSequence(msgs, immediate) {\n        if (immediate) {\n          var msg = msgs.shift();\n          _appendConvoResponse([{\n            text: msg,\n            source: 'convo'\n          }]);\n        }\n        if (msgs.length) {\n          sequence_timeout = $timeout(function () {\n            var msg = msgs.shift();\n            _appendConvoResponse([{\n              text: msg,\n              source: 'convo'\n            }]);\n            if (msgs.length) {\n              _appendSequence(msgs, false);\n            }\n          }, SEQUENCE_TIMEOUT);\n        }\n      }\n      function _cancelMsgs() {\n        $timeout.cancel(reprompt_timeout);\n        reprompt_timeout = null;\n        $timeout.cancel(sequence_timeout);\n        sequence_timeout = null;\n      }\n      function _appendBreak() {\n        $scope.messages.push({\n          type: 'break'\n        });\n        persister.setMessages($scope.messages);\n      }\n      function _appendConvoResponse(msgs) {\n        $log.log('convoChatbox _appendConvoResponse()', msgs);\n        for (var i = 0; i < msgs.length; i++) {\n          $scope.messages.push(msgs[i]);\n        }\n        persister.setMessages($scope.messages);\n      }\n      function _appendUserMessage(msg) {\n        $log.log('convoChatbox _appendUserMessage()', msg);\n        $scope.messages.push(msg);\n        persister.setMessages($scope.messages);\n      }\n\n      // POSTPONED INIT\n      $scope.$watch('collapsed', function (val) {\n        $log.log('convoChatbox $watch collapsed');\n        if (!val && !initialized) {\n          _init();\n        }\n      });\n\n      // ANIMATE SCROLL\n      $scope.$watchCollection('messages', function () {\n        $log.log('convoChatbox $watchCollection()');\n        setTimeout(function () {\n          $log.log('convoChatbox queue()');\n          var $list = $elem.find('#chat-panel-body');\n          var scrollHeight = $list.prop('scrollHeight');\n          $list.animate({\n            scrollTop: scrollHeight\n          }, 500);\n        }, 10);\n      });\n\n      // FOCUS\n      $scope.$watch(function () {\n        return $scope.isSending();\n      }, function (sending) {\n        $log.log('convoChatbox $watch() sending', sending);\n        setTimeout(function () {\n          $log.log('convoChatbox input.focus()');\n          input.focus();\n        }, 10);\n      });\n    }\n  };\n}\n;// CONCATENATED MODULE: ./chat/index.js\n\n\n\n\n\n\n/* @ngInject */\n/* harmony default export */ const chat = (external_angular_default().module('convo.chat', []).directive('convoChatbox', convoChatbox).service('ConvoChatApi', ConvoChatApi).service('ConvoChatPersister', ConvoChatPersister).name);//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiODU4LmpzIiwibWFwcGluZ3MiOiI7Ozs7QUFBQTs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7O0FDQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOzs7OztBQzFCQTtBQUNBO0FBRUE7QUFFQTtBQUVBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFBQTs7Ozs7Ozs7QUNwQkE7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBRUE7QUFDQTtBQUVBO0FBRUE7QUFDQTtBQUVBO0FBQ0E7QUFBQTtBQUNBO0FBRUE7QUFFQTtBQUVBO0FBQ0E7QUFHQTtBQUVBO0FBQ0E7QUFFQTtBQUVBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBRUE7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUVBO0FBRUE7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFHQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFFQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUVBO0FBQ0E7QUFDQTtBQUVBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFFQTtBQUNBO0FBRUE7QUFFQTtBQUVBO0FBRUE7QUFDQTtBQUVBO0FBRUE7QUFDQTtBQUVBO0FBRUE7QUFDQTtBQUNBO0FBQUE7Ozs7Ozs7QUMvSkE7QUFFQTs7QUFFQTtBQUNBO0FBRUE7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUVBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFFQTtBQUVBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFFQTtBQUNBO0FBQ0E7QUFFQTtBQUdBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUdBO0FBRUE7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUVBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUdBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFBQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FDN1FBO0FBRUE7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQSIsInNvdXJjZXMiOlsid2VicGFjazovL2NvbnZvd29ya3Mtd3AvZXh0ZXJuYWwgdmFyIFwiYW5ndWxhclwiPzM0ZjQiLCJ3ZWJwYWNrOi8vY29udm93b3Jrcy13cC8uL2NoYXQvY29udm8tY2hhdC5zY3NzPzljZDAiLCJ3ZWJwYWNrOi8vY29udm93b3Jrcy13cC8uL2NoYXQvY29udm8tY2hhdC1hcGkuanM/OTBhOSIsIndlYnBhY2s6Ly9jb252b3dvcmtzLXdwLy4vY2hhdC9jb252by1jaGF0LXBlcnNpc3Rlci5qcz82YzRhIiwid2VicGFjazovL2NvbnZvd29ya3Mtd3AvLi9jaGF0L2NoYXRib3guZGlyZWN0aXZlLmpzP2Q2N2YiLCJ3ZWJwYWNrOi8vY29udm93b3Jrcy13cC8uL2NoYXQvaW5kZXguanM/MTI3ZiJdLCJzb3VyY2VzQ29udGVudCI6WyJjb25zdCBfX1dFQlBBQ0tfTkFNRVNQQUNFX09CSkVDVF9fID0gYW5ndWxhcjsiLCJcbiAgICAgIGltcG9ydCBBUEkgZnJvbSBcIiEuLi9ub2RlX21vZHVsZXMvc3R5bGUtbG9hZGVyL2Rpc3QvcnVudGltZS9pbmplY3RTdHlsZXNJbnRvU3R5bGVUYWcuanNcIjtcbiAgICAgIGltcG9ydCBkb21BUEkgZnJvbSBcIiEuLi9ub2RlX21vZHVsZXMvc3R5bGUtbG9hZGVyL2Rpc3QvcnVudGltZS9zdHlsZURvbUFQSS5qc1wiO1xuICAgICAgaW1wb3J0IGluc2VydEZuIGZyb20gXCIhLi4vbm9kZV9tb2R1bGVzL3N0eWxlLWxvYWRlci9kaXN0L3J1bnRpbWUvaW5zZXJ0QnlTZWxlY3Rvci5qc1wiO1xuICAgICAgaW1wb3J0IHNldEF0dHJpYnV0ZXMgZnJvbSBcIiEuLi9ub2RlX21vZHVsZXMvc3R5bGUtbG9hZGVyL2Rpc3QvcnVudGltZS9zZXRBdHRyaWJ1dGVzV2l0aG91dEF0dHJpYnV0ZXMuanNcIjtcbiAgICAgIGltcG9ydCBpbnNlcnRTdHlsZUVsZW1lbnQgZnJvbSBcIiEuLi9ub2RlX21vZHVsZXMvc3R5bGUtbG9hZGVyL2Rpc3QvcnVudGltZS9pbnNlcnRTdHlsZUVsZW1lbnQuanNcIjtcbiAgICAgIGltcG9ydCBzdHlsZVRhZ1RyYW5zZm9ybUZuIGZyb20gXCIhLi4vbm9kZV9tb2R1bGVzL3N0eWxlLWxvYWRlci9kaXN0L3J1bnRpbWUvc3R5bGVUYWdUcmFuc2Zvcm0uanNcIjtcbiAgICAgIGltcG9ydCBjb250ZW50LCAqIGFzIG5hbWVkRXhwb3J0IGZyb20gXCIhIS4uL25vZGVfbW9kdWxlcy9jc3MtbG9hZGVyL2luZGV4LmpzIS4uL25vZGVfbW9kdWxlcy9zYXNzLWxvYWRlci9kaXN0L2Nqcy5qcyEuL2NvbnZvLWNoYXQuc2Nzc1wiO1xuICAgICAgXG4gICAgICBcblxudmFyIG9wdGlvbnMgPSB7fTtcblxub3B0aW9ucy5zdHlsZVRhZ1RyYW5zZm9ybSA9IHN0eWxlVGFnVHJhbnNmb3JtRm47XG5vcHRpb25zLnNldEF0dHJpYnV0ZXMgPSBzZXRBdHRyaWJ1dGVzO1xuXG4gICAgICBvcHRpb25zLmluc2VydCA9IGluc2VydEZuLmJpbmQobnVsbCwgXCJoZWFkXCIpO1xuICAgIFxub3B0aW9ucy5kb21BUEkgPSBkb21BUEk7XG5vcHRpb25zLmluc2VydFN0eWxlRWxlbWVudCA9IGluc2VydFN0eWxlRWxlbWVudDtcblxudmFyIHVwZGF0ZSA9IEFQSShjb250ZW50LCBvcHRpb25zKTtcblxuXG5cbmV4cG9ydCAqIGZyb20gXCIhIS4uL25vZGVfbW9kdWxlcy9jc3MtbG9hZGVyL2luZGV4LmpzIS4uL25vZGVfbW9kdWxlcy9zYXNzLWxvYWRlci9kaXN0L2Nqcy5qcyEuL2NvbnZvLWNoYXQuc2Nzc1wiO1xuICAgICAgIGV4cG9ydCBkZWZhdWx0IGNvbnRlbnQgJiYgY29udGVudC5sb2NhbHMgPyBjb250ZW50LmxvY2FscyA6IHVuZGVmaW5lZDtcbiIsIi8qIEBuZ0luamVjdCAqL1xuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24gQ29udm9DaGF0QXBpKCAkbG9nLCAkaHR0cCwgQ09OVk9fUFVCTElDX0FQSV9CQVNFX1VSTClcbntcbiAgICB0aGlzLnNlbmRNZXNzYWdlID0gc2VuZE1lc3NhZ2U7XG5cbiAgICBmdW5jdGlvbiBzZW5kTWVzc2FnZSggc2VydmljZUlkLCBpbnN0YWxsYXRpb25JZCwgZGV2aWNlSWQsIHNlc3Npb25JZCwgdGV4dCwgaXNMYXVuY2gsIHZhcmlhbnQsIHRpbWV6b25lIClcbiAgICB7XG4gICAgICAgIGlmICggIXZhcmlhbnQpIHtcbiAgICAgICAgICAgIHZhcmlhbnQgPSAgICdkZXZlbG9wJztcbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiAkaHR0cCh7XG4gICAgICAgICAgICBtZXRob2Q6IFwicG9zdFwiLFxuICAgICAgICAgICAgdXJsOiBDT05WT19QVUJMSUNfQVBJX0JBU0VfVVJMICsgJy9zZXJ2aWNlLXJ1bi9jb252b19jaGF0LycgKyB2YXJpYW50ICsgJy8nICsgc2VydmljZUlkLFxuICAgICAgICAgICAgZGF0YSA6IHsgaW5zdGFsbGF0aW9uX2lkIDogaW5zdGFsbGF0aW9uSWQsIGRldmljZV9pZCA6IGRldmljZUlkLCBzZXNzaW9uX2lkIDogc2Vzc2lvbklkLCB0ZXh0IDogdGV4dCwgbGF1bmNoIDogaXNMYXVuY2gsIHRpbWV6b25lIDogdGltZXpvbmV9XG4gICAgICAgIH0pLnRoZW4oIGZ1bmN0aW9uICggcmVzcG9uc2UpIHtcbiAgICAgICAgICAgICRsb2cubG9nKCdDb252b0NoYXRBcGkgc2VuZE1lc3NhZ2UgcmVzcG9uc2UuZGF0YScsIHJlc3BvbnNlLmRhdGEpO1xuICAgICAgICAgICAgcmV0dXJuIHJlc3BvbnNlLmRhdGE7XG4gICAgICAgIH0pO1xuICAgIH1cbn07XG4iLCIvKiBAbmdJbmplY3QgKi9cbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uIENvbnZvQ2hhdFBlcnNpc3RlciggJGxvZywgJHdpbmRvdylcbntcbiAgICB0aGlzLmNyZWF0ZVBlcnNpc3RlciA9IGNyZWF0ZVBlcnNpc3RlcjtcbiAgICB0aGlzLmdldFVzZXJJZCA9IGdldFVzZXJJZDtcbiAgICB0aGlzLmdldEluc3RhbGxhdGlvbklkID0gZ2V0SW5zdGFsbGF0aW9uSWQ7XG4gICAgdGhpcy5nZXREZXZpY2VJZCA9IGdldERldmljZUlkO1xuICAgIFxuICAgIGZ1bmN0aW9uIGdldFVzZXJJZCgpXG4gICAge1xuICAgICAgICB2YXIgdXNlcl9pZCA9ICR3aW5kb3cubG9jYWxTdG9yYWdlLmdldEl0ZW0oICdjb252b19jaGF0X3VzZXJfaWQnKTtcbiAgICAgICAgaWYgKCAhdXNlcl9pZCkge1xuICAgICAgICAgICAgdXNlcl9pZCA9IF9nZW5lcmF0ZVVVSURWNCgpO1xuICAgICAgICAgICAgJHdpbmRvdy5sb2NhbFN0b3JhZ2Uuc2V0SXRlbSggJ2NvbnZvX2NoYXRfdXNlcl9pZCcsIHVzZXJfaWQpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiB1c2VyX2lkO1xuICAgIH1cbiAgICBcbiAgICBmdW5jdGlvbiBnZXRJbnN0YWxsYXRpb25JZCggc2VydmljZUlkKVxuICAgIHtcbiAgICAgICAgcmV0dXJuIGdldERldmljZUlkKCkgKyAnXycgKyBzZXJ2aWNlSWQ7XG4gICAgfVxuICAgIFxuICAgIGZ1bmN0aW9uIGdldERldmljZUlkKClcbiAgICB7XG4gICAgICAgIHJldHVybiBnZXRVc2VySWQoKTtcbiAgICB9XG4gICAgXG4gICAgZnVuY3Rpb24gX2dlbmVyYXRlVVVJRFY0KCkge1xuICAgICAgICByZXR1cm4gKFsxZTddICsgLTFlMyArIC00ZTMgKyAtOGUzICsgLTFlMTEpLnJlcGxhY2UoL1swMThdL2csIGMgPT5cbiAgICAgICAgICAgIChjIF4gY3J5cHRvLmdldFJhbmRvbVZhbHVlcyhuZXcgVWludDhBcnJheSgxKSlbMF0gJiAxNSA+PiBjIC8gNCkudG9TdHJpbmcoMTYpXG4gICAgICAgICk7XG4gICAgfVxuICAgIFxuICAgIGZ1bmN0aW9uIGNyZWF0ZVBlcnNpc3Rlciggc2VydmljZUlkLCBzZXNzaW9uSWQpXG4gICAge1xuICAgICAgICByZXR1cm4gbmV3IENoYXRQZXJzaXN0ZXIoIHNlcnZpY2VJZCwgc2Vzc2lvbklkKTtcbiAgICB9XG4gICAgXG4gICAgXG4gICAgZnVuY3Rpb24gQ2hhdFBlcnNpc3Rlciggc2VydmljZUlkKVxuICAgIHtcbiAgICAgICAgdGhpcy5zZXJ2aWNlSWQgPSBzZXJ2aWNlSWQ7XG4gICAgfVxuICAgIFxuICAgIENoYXRQZXJzaXN0ZXIucHJvdG90eXBlLmdldEN1cnJlbnRTZXNzaW9uSWQgPSBmdW5jdGlvbigpXG4gICAge1xuICAgICAgICB2YXIga2V5ID0gJ2NvbnZvX2NoYXRfc2Vzc2lvbicgKyBnZXREZXZpY2VJZCgpO1xuICAgICAgICB2YXIgc2Vzc2lvbl9pZCA9ICR3aW5kb3cubG9jYWxTdG9yYWdlLmdldEl0ZW0oIGtleSk7XG4gICAgICAgIFxuICAgICAgICBpZiAoICFzZXNzaW9uX2lkKSB7XG4gICAgICAgICAgICBzZXNzaW9uX2lkID0gIHRoaXMuc3RhcnROZXdTZXNzaW9uKCk7XG4gICAgICAgIH1cbiAgICAgICAgXG4gICAgICAgIHJldHVybiBzZXNzaW9uX2lkO1xuICAgIH0gICAgXG4gICAgXG4gICAgQ2hhdFBlcnNpc3Rlci5wcm90b3R5cGUuc3RhcnROZXdTZXNzaW9uID0gZnVuY3Rpb24oKVxuICAgIHtcbiAgICAgICAgdmFyIGtleSA9ICdjb252b19jaGF0X3Nlc3Npb24nICsgZ2V0RGV2aWNlSWQoKTtcbiAgICAgICAgdmFyIG9sZF9zZXNzaW9uX2lkID0gJHdpbmRvdy5sb2NhbFN0b3JhZ2UuZ2V0SXRlbSgga2V5KTtcbiAgICAgICAgaWYgKCBvbGRfc2Vzc2lvbl9pZCkge1xuICAgICAgICAgICAgdGhpcy5fY2xlYXJTZXNzaW9uSW5mb3JtYXRpb24oIG9sZF9zZXNzaW9uX2lkKTtcbiAgICAgICAgfVxuICAgICAgICB2YXIgc2Vzc2lvbl9pZCA9IF9nZW5lcmF0ZVVVSURWNCgpO1xuICAgICAgICAkd2luZG93LmxvY2FsU3RvcmFnZS5zZXRJdGVtKCBrZXksIHNlc3Npb25faWQpO1xuICAgICAgICByZXR1cm4gc2Vzc2lvbl9pZDtcbiAgICB9ICAgIFxuICAgIFxuICAgIENoYXRQZXJzaXN0ZXIucHJvdG90eXBlLmlzT3BlbiA9IGZ1bmN0aW9uKCBkZWZhdWx0T3BlbilcbiAgICB7XG4gICAgICAgIHZhciBzZXNzaW9uID0gdGhpcy5fZ2V0U2Vzc2lvbkluZm9ybWF0aW9uKCk7XG4gICAgICAgIFxuICAgICAgICAkbG9nLmxvZygnQ2hhdFBlcnNpc3RlciBpc09wZW4oKScsICdzZXNzaW9uJywgc2Vzc2lvbik7XG4gICAgICAgIFxuICAgICAgICBpZiAoICdvcGVuJyBpbiBzZXNzaW9uKSB7XG4gICAgICAgICAgICByZXR1cm4gc2Vzc2lvblsnb3BlbiddO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBkZWZhdWx0T3BlbjtcbiAgICB9XG4gICAgXG4gICAgQ2hhdFBlcnNpc3Rlci5wcm90b3R5cGUuc2V0T3BlbiA9IGZ1bmN0aW9uKClcbiAgICB7XG4gICAgICAgIHZhciBzZXNzaW9uID0gdGhpcy5fZ2V0U2Vzc2lvbkluZm9ybWF0aW9uKCk7XG4gICAgICAgIHNlc3Npb25bJ29wZW4nXSA9IHRydWU7XG4gICAgICAgIHRoaXMuX3NldFNlc3Npb25JbmZvcm1hdGlvbiggc2Vzc2lvbik7XG4gICAgfVxuICAgIFxuICAgIENoYXRQZXJzaXN0ZXIucHJvdG90eXBlLnNldENsb3NlZCA9IGZ1bmN0aW9uKClcbiAgICB7XG4gICAgICAgIHZhciBzZXNzaW9uID0gdGhpcy5fZ2V0U2Vzc2lvbkluZm9ybWF0aW9uKCk7XG4gICAgICAgIHNlc3Npb25bJ29wZW4nXSA9IGZhbHNlO1xuICAgICAgICB0aGlzLl9zZXRTZXNzaW9uSW5mb3JtYXRpb24oIHNlc3Npb24pO1xuICAgIH1cbiAgICBcbiAgICBcbiAgICBDaGF0UGVyc2lzdGVyLnByb3RvdHlwZS5zZXRNZXNzYWdlcyA9IGZ1bmN0aW9uKCBtZXNzYWdlcylcbiAgICB7XG4gICAgICAgIHZhciBzZXNzaW9uID0gdGhpcy5fZ2V0U2Vzc2lvbkluZm9ybWF0aW9uKCk7XG4gICAgICAgIHNlc3Npb25bJ21lc3NhZ2VzJ10gPSBtZXNzYWdlcztcbiAgICAgICAgdGhpcy5fc2V0U2Vzc2lvbkluZm9ybWF0aW9uKCBzZXNzaW9uKTtcbiAgICB9XG4gICAgXG4gICAgQ2hhdFBlcnNpc3Rlci5wcm90b3R5cGUuZ2V0TWVzc2FnZXMgPSBmdW5jdGlvbigpXG4gICAge1xuICAgICAgICB2YXIgc2Vzc2lvbiA9IHRoaXMuX2dldFNlc3Npb25JbmZvcm1hdGlvbigpO1xuICAgICAgICBcbiAgICAgICAgaWYgKCAnbWVzc2FnZXMnIGluIHNlc3Npb24pIHtcbiAgICAgICAgICAgIHJldHVybiBzZXNzaW9uWydtZXNzYWdlcyddO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBbXTtcbiAgICB9XG4gICAgXG4gICAgQ2hhdFBlcnNpc3Rlci5wcm90b3R5cGUuc2Vzc2lvblN0YXJ0ZWQgPSBmdW5jdGlvbigpXG4gICAge1xuICAgICAgICB2YXIgc2Vzc2lvbiA9IHRoaXMuX2dldFNlc3Npb25JbmZvcm1hdGlvbigpO1xuICAgICAgICByZXR1cm4gc2Vzc2lvblsnc2Vzc2lvblN0YXJ0ZWQnXTtcbiAgICB9XG4gICAgXG4gICAgQ2hhdFBlcnNpc3Rlci5wcm90b3R5cGUuc3RhcnRTZXNzaW9uID0gZnVuY3Rpb24oKVxuICAgIHtcbiAgICAgICAgdmFyIHNlc3Npb24gPSB0aGlzLl9nZXRTZXNzaW9uSW5mb3JtYXRpb24oKTtcbiAgICAgICAgc2Vzc2lvblsnc2Vzc2lvblN0YXJ0ZWQnXSA9IHRydWU7XG4gICAgICAgIHRoaXMuX3NldFNlc3Npb25JbmZvcm1hdGlvbiggc2Vzc2lvbik7XG4gICAgfVxuICAgIFxuICAgIENoYXRQZXJzaXN0ZXIucHJvdG90eXBlLl9nZXRTZXNzaW9uSW5mb3JtYXRpb24gPSBmdW5jdGlvbigpXG4gICAge1xuICAgICAgICB2YXIgc2Vzc2lvbiA9ICR3aW5kb3cubG9jYWxTdG9yYWdlLmdldEl0ZW0oIHRoaXMuX2dldFNlc3Npb25LZXkoIHRoaXMuZ2V0Q3VycmVudFNlc3Npb25JZCgpKSk7XG4gICAgICAgIGlmICggdHlwZW9mKCBzZXNzaW9uKSA9PT0gJ3VuZGVmaW5lZCcgfHwgc2Vzc2lvbiA9PT0gbnVsbCkge1xuICAgICAgICAgICAgJGxvZy5sb2coJ0NoYXRQZXJzaXN0ZXIgX2dldFNlc3Npb25JbmZvcm1hdGlvbigpIHJldHVybmluZyBlbXB0eSBzZXNzaW9uSWQnLCB0aGlzLmdldEN1cnJlbnRTZXNzaW9uSWQoKSwgJ3Nlc3Npb24nLCBzZXNzaW9uKTtcbiAgICAgICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICAgICAgc2Vzc2lvblN0YXJ0ZWQgOiBmYWxzZVxuICAgICAgICAgICAgfTtcbiAgICAgICAgfVxuICAgICAgICBcbiAgICAgICAgJGxvZy5sb2coJ0NoYXRQZXJzaXN0ZXIgX2dldFNlc3Npb25JbmZvcm1hdGlvbigpIHNlc3Npb25JZCcsIHRoaXMuZ2V0Q3VycmVudFNlc3Npb25JZCgpLCAnc2Vzc2lvbicsIHNlc3Npb24pO1xuICAgICAgICBcbiAgICAgICAgcmV0dXJuIEpTT04ucGFyc2Uoc2Vzc2lvbik7XG4gICAgfVxuICAgIFxuICAgIENoYXRQZXJzaXN0ZXIucHJvdG90eXBlLl9zZXRTZXNzaW9uSW5mb3JtYXRpb24gPSBmdW5jdGlvbiggc2Vzc2lvbilcbiAgICB7XG4gICAgICAgIHZhciB2YWx1ZSA9IEpTT04uc3RyaW5naWZ5KCBzZXNzaW9uKTtcbiAgICAgICAgXG4gICAgICAgICRsb2cubG9nKCdDaGF0UGVyc2lzdGVyIF9zZXRTZXNzaW9uSW5mb3JtYXRpb24oKSBzYXZpbmcgdmFsdWUgc2Vzc2lvbklkJywgdGhpcy5nZXRDdXJyZW50U2Vzc2lvbklkKCksICd2YWx1ZScsIHZhbHVlKTtcbiAgICAgICAgXG4gICAgICAgICR3aW5kb3cubG9jYWxTdG9yYWdlLnNldEl0ZW0oIHRoaXMuX2dldFNlc3Npb25LZXkoIHRoaXMuZ2V0Q3VycmVudFNlc3Npb25JZCgpKSwgdmFsdWUpO1xuICAgIH1cbiAgICBcbiAgICBDaGF0UGVyc2lzdGVyLnByb3RvdHlwZS5fY2xlYXJTZXNzaW9uSW5mb3JtYXRpb24gPSBmdW5jdGlvbiggc2Vzc2lvbklkKVxuICAgIHtcbiAgICAgICAgJHdpbmRvdy5sb2NhbFN0b3JhZ2UucmVtb3ZlSXRlbSggdGhpcy5fZ2V0U2Vzc2lvbktleSggc2Vzc2lvbklkKSk7XG4gICAgfVxuICAgIFxuICAgIENoYXRQZXJzaXN0ZXIucHJvdG90eXBlLl9nZXRTZXNzaW9uS2V5ID0gZnVuY3Rpb24oIHNlc3Npb25JZClcbiAgICB7XG4gICAgICAgIHJldHVybiAnY2hhdF9zZXNzaW9uXycgKyB0aGlzLnNlcnZpY2VJZCArICdfJyArIHNlc3Npb25JZDtcbiAgICB9ICAgXG59O1xuXG5cbiIsImltcG9ydCB0ZW1wbGF0ZSBmcm9tICcuL2NoYXRib3gudG1wbC5odG1sJztcblxuY29uc3Qgc2hvd2Rvd24gPSByZXF1aXJlKCdzaG93ZG93bicpO1xuXG4vKiBAbmdJbmplY3QgKi9cbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uIGNvbnZvQ2hhdGJveCgkbG9nLCAkc2NlLCAkdGltZW91dCwgJHdpbmRvdywgJGxvY2F0aW9uLCBDb252b0NoYXRBcGksIENvbnZvQ2hhdFBlcnNpc3Rlcikge1xuXG4gICAgJGxvZy5sb2coJ2NvbnZvQ2hhdGJveCBpbml0Jyk7XG5cbiAgICByZXR1cm4ge1xuICAgICAgICByZXN0cmljdDogJ0UnLFxuICAgICAgICB0ZW1wbGF0ZTogdGVtcGxhdGUsXG4gICAgICAgIHNjb3BlOiB7XG4gICAgICAgICAgICBzZXJ2aWNlSWQ6ICc9JyxcbiAgICAgICAgICAgIG5hbWU6ICc9PycsXG4gICAgICAgICAgICB2YXJpYW50OiAnPT8nXG4gICAgICAgIH0sXG4gICAgICAgIGxpbms6IGZ1bmN0aW9uICgkc2NvcGUsICRlbGVtLCAkYXR0cnMpIFxuICAgICAgICB7XG4gICAgICAgICAgICAkbG9nLmxvZygnY29udm9DaGF0Ym94IGxpbmsgJHNjb3BlLnNlcnZpY2VJZCcsICRzY29wZS5zZXJ2aWNlSWQpO1xuXG4gICAgICAgICAgICB2YXIgUkVQUk9NUFRfVElNRU9VVCA9IDIwICogMTAwMDtcbiAgICAgICAgICAgIHZhciBTRVFVRU5DRV9USU1FT1VUID0gMiAqIDEwMDA7XG4gICAgICAgICAgICBcbiAgICAgICAgICAgIHZhciBzZW5kaW5nID0gdHJ1ZTtcbiAgICAgICAgICAgIHZhciBpbml0aWFsaXplZCA9IGZhbHNlO1xuICAgICAgICAgICAgdmFyIHJlcHJvbXB0X3RpbWVvdXQgPSBudWxsO1xuICAgICAgICAgICAgdmFyIHNlcXVlbmNlX3RpbWVvdXQgPSBudWxsO1xuICAgICAgICAgICAgXG4gICAgICAgICAgICB2YXIgZGV2aWNlX2lkICAgICAgID0gICBDb252b0NoYXRQZXJzaXN0ZXIuZ2V0RGV2aWNlSWQoKTtcbiAgICAgICAgICAgIHZhciBpbnN0YWxsYXRpb25faWQgPSAgIENvbnZvQ2hhdFBlcnNpc3Rlci5nZXRJbnN0YWxsYXRpb25JZCggJHNjb3BlLnNlcnZpY2VJZCk7XG4gICAgICAgICAgICB2YXIgcGVyc2lzdGVyICAgICAgID0gICBDb252b0NoYXRQZXJzaXN0ZXIuY3JlYXRlUGVyc2lzdGVyKCAkc2NvcGUuc2VydmljZUlkKTtcbiAgICAgICAgICAgIHZhciBzZXNzaW9uX2lkICAgICAgPSAgIHBlcnNpc3Rlci5nZXRDdXJyZW50U2Vzc2lvbklkKCk7XG4gICAgICAgICAgICB2YXIgdGltZXpvbmUgICAgICAgID0gICBJbnRsLkRhdGVUaW1lRm9ybWF0KCkucmVzb2x2ZWRPcHRpb25zKCkudGltZVpvbmU7XG5cbiAgICAgICAgICAgICRzY29wZS5tZXNzYWdlID0gJyc7XG4gICAgICAgICAgICAkc2NvcGUubWVzc2FnZXMgPSBbXTtcbiAgICAgICAgICAgICRzY29wZS5jb2xsYXBzZWQgPSAhcGVyc2lzdGVyLmlzT3BlbiggZmFsc2UpO1xuICAgICAgICAgICAgXG4gICAgICAgICAgICAkbG9nLmxvZygnY29udm9DaGF0Ym94IGxpbmsoKSAkc2NvcGUuY29sbGFwc2VkJywgJHNjb3BlLmNvbGxhcHNlZCwgJ3Nlc3Npb25faWQnLCBzZXNzaW9uX2lkKTtcblxuICAgICAgICAgICAgaWYgKCAhJHNjb3BlLmNvbGxhcHNlZCkge1xuICAgICAgICAgICAgICAgIF9pbml0KCk7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIHZhciBpbnB1dCA9ICRlbGVtLmZpbmQoJ2lucHV0W3R5cGU9dGV4dF0nKVswXTtcbiAgICAgICAgICAgICRsb2cubG9nKCdjb252b0NoYXRib3ggbGluayBpbnB1dCcsIGlucHV0KTtcblxuICAgICAgICAgICAgJHdpbmRvdy5vbmZvY3VzID0gZnVuY3Rpb24oKXtcbiAgICAgICAgICAgICAgICAkbG9nLmxvZygnY29udm9DaGF0Ym94IG9uZm9jdXMnKTtcbiAgICAgICAgICAgICAgICAkc2NvcGUuJGFwcGx5KCBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAgICAgICAgICRzY29wZS5tZXNzYWdlcyA9IHBlcnNpc3Rlci5nZXRNZXNzYWdlcygpO1xuICAgICAgICAgICAgICAgICAgICAkc2NvcGUuY29sbGFwc2VkID0gIXBlcnNpc3Rlci5pc09wZW4oIGZhbHNlKTtcbiAgICAgICAgICAgICAgICAgICAgc2Vzc2lvbl9pZCAgICAgID0gICBwZXJzaXN0ZXIuZ2V0Q3VycmVudFNlc3Npb25JZCgpO1xuLy8gICAgICAgICAgICAgICAgICAgIGlmICggJHNjb3BlLm1lc3NhZ2VzLmxlbmd0aCkge1xuLy8gICAgICAgICAgICAgICAgICAgICAgICBpbml0aWFsaXplZCA9IHRydWU7XG4vLyAgICAgICAgICAgICAgICAgICAgICAgIHNlbmRpbmcgPSBmYWxzZTtcbi8vICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xuLy8gICAgICAgICAgICAgICAgICAgICAgICBpbml0aWFsaXplZCA9IGZhbHNlO1xuLy8gICAgICAgICAgICAgICAgICAgICAgICBzZW5kaW5nID0gdHJ1ZTtcbi8vICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICRzY29wZS5mb3JtU3VibWl0dGVkID0gZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgICAgICRsb2cubG9nKCdjb252b0NoYXRib3ggZm9ybVN1Ym1pdHRlZCgpJywgJHNjb3BlLm1lc3NhZ2UpO1xuICAgICAgICAgICAgICAgIHZhciBtc2cgPSB7XG4gICAgICAgICAgICAgICAgICAgIHRleHQ6ICRzY29wZS5tZXNzYWdlLFxuICAgICAgICAgICAgICAgICAgICBzb3VyY2U6ICd1c2VyJ1xuICAgICAgICAgICAgICAgIH07XG5cbiAgICAgICAgICAgICAgICBzZW5kaW5nID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICBcbiAgICAgICAgICAgICAgICBfYXBwZW5kQnJlYWsoKTtcbiAgICAgICAgICAgICAgICBfYXBwZW5kVXNlck1lc3NhZ2UobXNnKTtcbiAgICAgICAgICAgICAgICBfY2FuY2VsTXNncygpO1xuXG4gICAgICAgICAgICAgICAgQ29udm9DaGF0QXBpLnNlbmRNZXNzYWdlKFxuICAgICAgICAgICAgICAgICAgICAgICAkc2NvcGUuc2VydmljZUlkLCBpbnN0YWxsYXRpb25faWQsIGRldmljZV9pZCwgc2Vzc2lvbl9pZCwgXG4gICAgICAgICAgICAgICAgICAgICAgICRzY29wZS5tZXNzYWdlLCBmYWxzZSwgJHNjb3BlLnZhcmlhbnQsIHRpbWV6b25lKS50aGVuKCBmdW5jdGlvbiAocmVzcG9uc2UpIHtcbiAgICAgICAgICAgICAgICAgICAgJGxvZy5sb2coJ2NvbnZvQ2hhdGJveCBmb3JtU3VibWl0dGVkKCkgc2VuZE1lc3NhZ2UoKSByZXNwb25zZScsIHJlc3BvbnNlKTtcbiAgICAgICAgICAgICAgICAgICAgJHNjb3BlLm1lc3NhZ2UgPSAnJztcbiAgICAgICAgICAgICAgICAgICAgX3JlYWRSZXNwb25zZShyZXNwb25zZSk7XG4gICAgICAgICAgICAgICAgfSwgZnVuY3Rpb24gKHJlYXNvbikge1xuICAgICAgICAgICAgICAgICAgICAkbG9nLmVycm9yKCdjb252b0NoYXRib3ggZm9ybVN1Ym1pdHRlZCgpIHNlbmRNZXNzYWdlKCkgcmVhc29uJywgcmVhc29uKTtcbiAgICAgICAgICAgICAgICAgICAgX2hhbmRsZUVycm9yKCByZWFzb24pO1xuICAgICAgICAgICAgICAgIH0pLmZpbmFsbHkoZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgICAgICAgICAkbG9nLmxvZygnY29udm9DaGF0Ym94IGZvcm1TdWJtaXR0ZWQoKSBzZW5kTWVzc2FnZSgpIGZpbmFsbHknKTtcbiAgICAgICAgICAgICAgICAgICAgc2VuZGluZyA9IGZhbHNlO1xuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgfTtcbiAgICAgICAgICAgIFxuICAgICAgICAgICAgJHNjb3BlLmFwcGx5TWFya2Rvd24gPSBmdW5jdGlvbiAoIG1zZykge1xuICAgICAgICAgICAgICAgIFxuICAgICAgICAgICAgICAgIGlmICggbXNnLnNvdXJjZSAhPSAnY29udm8nKSB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiAkc2NlLnRydXN0QXNIdG1sKCBtc2cudGV4dCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGNvbnN0IGNvbnZlcnRlciA9IG5ldyBzaG93ZG93bi5Db252ZXJ0ZXIoXG4gICAgICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGRpc2FibGVGb3JjZWQ0U3BhY2VzSW5kZW50ZWRTdWJsaXN0cyA6IHRydWVcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICk7XG5cbiAgICAgICAgICAgICAgICBjb25zdCBodG1sQ29udGVudCA9IGNvbnZlcnRlci5tYWtlSHRtbCggbXNnLnRleHQpO1xuICAgICAgICAgICAgICAgIFxuICAgICAgICAgICAgICAgIHJldHVybiAkc2NlLnRydXN0QXNIdG1sKCBodG1sQ29udGVudCk7XG4gICAgICAgICAgICB9O1xuXG4gICAgICAgICAgICAkc2NvcGUuZm9ybURpc2FibGVkID0gZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgICAgIHJldHVybiBzZW5kaW5nIHx8ICRzY29wZS5tZXNzYWdlLnRyaW0oKSA9PSAnJztcbiAgICAgICAgICAgIH07XG5cbiAgICAgICAgICAgICRzY29wZS5pc1NlbmRpbmcgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHNlbmRpbmc7XG4gICAgICAgICAgICB9O1xuXG4gICAgICAgICAgICAkc2NvcGUuY2xvc2UgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAgICAgJHNjb3BlLmNvbGxhcHNlZCA9IHRydWU7XG4gICAgICAgICAgICAgICAgcGVyc2lzdGVyLnNldENsb3NlZCgpO1xuICAgICAgICAgICAgfTtcbiAgICAgICAgICAgIFxuICAgICAgICAgICAgJHNjb3BlLnJlc2V0ID0gZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgICAgIHNlc3Npb25faWQgID0gcGVyc2lzdGVyLnN0YXJ0TmV3U2Vzc2lvbigpO1xuICAgICAgICAgICAgICAgIHBlcnNpc3Rlci5zZXRDbG9zZWQoKTtcbiAgICAgICAgICAgICAgICAkc2NvcGUubWVzc2FnZSA9ICcnO1xuICAgICAgICAgICAgICAgICRzY29wZS5tZXNzYWdlcyA9IFtdO1xuICAgICAgICAgICAgICAgICRzY29wZS5jb2xsYXBzZWQgPSB0cnVlO1xuICAgICAgICAgICAgXG4gICAgICAgICAgICAgICAgc2VuZGluZyA9IHRydWU7XG4gICAgICAgICAgICAgICAgaW5pdGlhbGl6ZWQgPSBmYWxzZTtcbiAgICAgICAgICAgIH07XG5cbiAgICAgICAgICAgICRzY29wZS5vcGVuID0gZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgICAgICRzY29wZS5jb2xsYXBzZWQgPSBmYWxzZTtcbiAgICAgICAgICAgICAgICBwZXJzaXN0ZXIuc2V0T3BlbigpO1xuICAgICAgICAgICAgfTtcblxuICAgICAgICAgICAgZnVuY3Rpb24gX2luaXQoKSBcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAkbG9nLmxvZygnY29udm9DaGF0Ym94IF9pbml0KCknKTtcbiAgICAgICAgICAgICAgICBpbml0aWFsaXplZCA9IHRydWU7XG4gICAgICAgICAgICAgICAgXG4gICAgICAgICAgICAgICAgaWYgKCBwZXJzaXN0ZXIuc2Vzc2lvblN0YXJ0ZWQoKSkge1xuICAgICAgICAgICAgICAgICAgICB2YXIgbWVzc2FnZXMgPSBwZXJzaXN0ZXIuZ2V0TWVzc2FnZXMoKTtcbiAgICAgICAgICAgICAgICAgICAgJGxvZy5sb2coJ2NvbnZvQ2hhdGJveCBfaW5pdCgpIHNlc3Npb24gZXhpc3RzIG1lc3NhZ2VzJywgbWVzc2FnZXMpO1xuICAgICAgICAgICAgICAgICAgICAkc2NvcGUubWVzc2FnZXMgPSBtZXNzYWdlcztcbiAgICAgICAgICAgICAgICAgICAgc2VuZGluZyA9IGZhbHNlO1xuICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIENvbnZvQ2hhdEFwaS5zZW5kTWVzc2FnZShcbiAgICAgICAgICAgICAgICAgICAgICAgICRzY29wZS5zZXJ2aWNlSWQsIGluc3RhbGxhdGlvbl9pZCwgZGV2aWNlX2lkLCBzZXNzaW9uX2lkLCBcbiAgICAgICAgICAgICAgICAgICAgICAgICcnLCB0cnVlLCAkc2NvcGUudmFyaWFudCwgdGltZXpvbmUpLnRoZW4oZnVuY3Rpb24gKHJlc3BvbnNlKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAkbG9nLmxvZygnY29udm9DaGF0Ym94IF9pbml0KCkgcmVzcG9uc2UnLCByZXNwb25zZSk7XG4gICAgICAgICAgICAgICAgICAgICAgICBwZXJzaXN0ZXIuc3RhcnRTZXNzaW9uKClcbiAgICAgICAgICAgICAgICAgICAgICAgIF9yZWFkUmVzcG9uc2UocmVzcG9uc2UpO1xuICAgICAgICAgICAgICAgICAgICB9LCBmdW5jdGlvbiAocmVhc29uKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAkbG9nLmVycm9yKCdjb252b0NoYXRib3ggX2luaXQoKSByZWFzb24nLCByZWFzb24pO1xuICAgICAgICAgICAgICAgICAgICAgICAgX2hhbmRsZUVycm9yKCByZWFzb24pO1xuICAgICAgICAgICAgICAgICAgICB9KS5maW5hbGx5KGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICRsb2cubG9nKCdjb252b0NoYXRib3ggX2luaXQoKSBmaW5hbGx5Jyk7XG4gICAgICAgICAgICAgICAgICAgICAgICBzZW5kaW5nID0gZmFsc2U7XG4gICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIFxuICAgICAgICAgICAgZnVuY3Rpb24gX2hhbmRsZUVycm9yKCByZWFzb24pIHtcbiAgICAgICAgICAgICAgICBpZiAoIHJlYXNvbi5zdGF0dXMgPT09IDQwMyB8fCByZWFzb24uZGF0YSAmJiByZWFzb24uZGF0YS5jb2RlID09PSBcInJlc3RfY29va2llX2ludmFsaWRfbm9uY2VcIikge1xuICAgICAgICAgICAgICAgICAgICBpZiAoICR3aW5kb3cuY29uZmlybSggXCJZb3VyIGNoYXQgc2Vzc2lvbiBuZWVkcyB0byBiZSByZWZyZXNoZWQgdG8gY29udGludWUgc2VjdXJlbHkuIENsaWNrICdPSycgdG8gcmVmcmVzaCB0aGUgcGFnZS4gUGxlYXNlIG5vdGU6IGlmIHlvdSBoYXZlIHVuc2F2ZWQgdGV4dCwgbWFrZSBzdXJlIHRvIGNvcHkgaXQgYmVmb3JlIHJlZnJlc2hpbmcuXCIpKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBzZW5kaW5nID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICAgICAgICAgICR3aW5kb3cubG9jYXRpb24ucmVsb2FkKCk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGZ1bmN0aW9uIF9yZWFkUmVzcG9uc2UoZGF0YSkge1xuICAgICAgICAgICAgICAgIF9hcHBlbmRCcmVhaygpO1xuICAgICAgICAgICAgICAgIF9hcHBlbmRTZXF1ZW5jZShkYXRhLnRleHRfcmVzcG9uc2VzLCB0cnVlKTtcblxuICAgICAgICAgICAgICAgIGlmIChkYXRhLnRleHRfcmVwcm9tcHRzLmxlbmd0aCkge1xuICAgICAgICAgICAgICAgICAgICByZXByb21wdF90aW1lb3V0ID0gJHRpbWVvdXQoZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgX2FwcGVuZEJyZWFrKCk7XG4gICAgICAgICAgICAgICAgICAgICAgICBfYXBwZW5kU2VxdWVuY2UoZGF0YS50ZXh0X3JlcHJvbXB0cywgdHJ1ZSk7XG4gICAgICAgICAgICAgICAgICAgIH0sIFJFUFJPTVBUX1RJTUVPVVQpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgZnVuY3Rpb24gX2FwcGVuZFNlcXVlbmNlKG1zZ3MsIGltbWVkaWF0ZSkge1xuICAgICAgICAgICAgICAgIGlmIChpbW1lZGlhdGUpIHtcbiAgICAgICAgICAgICAgICAgICAgdmFyIG1zZyA9IG1zZ3Muc2hpZnQoKTtcbiAgICAgICAgICAgICAgICAgICAgX2FwcGVuZENvbnZvUmVzcG9uc2UoW3tcbiAgICAgICAgICAgICAgICAgICAgICAgIHRleHQ6IG1zZyxcbiAgICAgICAgICAgICAgICAgICAgICAgIHNvdXJjZTogJ2NvbnZvJ1xuICAgICAgICAgICAgICAgICAgICB9XSk7XG4gICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgaWYgKG1zZ3MubGVuZ3RoKSB7XG4gICAgICAgICAgICAgICAgICAgIHNlcXVlbmNlX3RpbWVvdXQgPSAkdGltZW91dChmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICB2YXIgbXNnID0gbXNncy5zaGlmdCgpO1xuICAgICAgICAgICAgICAgICAgICAgICAgX2FwcGVuZENvbnZvUmVzcG9uc2UoW3tcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0ZXh0OiBtc2csXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgc291cmNlOiAnY29udm8nXG4gICAgICAgICAgICAgICAgICAgICAgICB9XSk7XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAobXNncy5sZW5ndGgpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBfYXBwZW5kU2VxdWVuY2UobXNncywgZmFsc2UpO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICB9LCBTRVFVRU5DRV9USU1FT1VUKTtcbiAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgZnVuY3Rpb24gX2NhbmNlbE1zZ3MoKSB7XG4gICAgICAgICAgICAgICAgJHRpbWVvdXQuY2FuY2VsKHJlcHJvbXB0X3RpbWVvdXQpO1xuICAgICAgICAgICAgICAgIHJlcHJvbXB0X3RpbWVvdXQgPSBudWxsO1xuICAgICAgICAgICAgICAgICR0aW1lb3V0LmNhbmNlbChzZXF1ZW5jZV90aW1lb3V0KTtcbiAgICAgICAgICAgICAgICBzZXF1ZW5jZV90aW1lb3V0ID0gbnVsbDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIFxuICAgICAgICAgICAgZnVuY3Rpb24gX2FwcGVuZEJyZWFrKCkge1xuICAgICAgICAgICAgICAgICRzY29wZS5tZXNzYWdlcy5wdXNoKHtcbiAgICAgICAgICAgICAgICAgICAgdHlwZTogJ2JyZWFrJyxcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICBwZXJzaXN0ZXIuc2V0TWVzc2FnZXMoICRzY29wZS5tZXNzYWdlcyk7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGZ1bmN0aW9uIF9hcHBlbmRDb252b1Jlc3BvbnNlKG1zZ3MpIHtcbiAgICAgICAgICAgICAgICAkbG9nLmxvZygnY29udm9DaGF0Ym94IF9hcHBlbmRDb252b1Jlc3BvbnNlKCknLCBtc2dzKTtcblxuICAgICAgICAgICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgbXNncy5sZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgICAgICAgICAkc2NvcGUubWVzc2FnZXMucHVzaCggbXNnc1tpXSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIHBlcnNpc3Rlci5zZXRNZXNzYWdlcyggJHNjb3BlLm1lc3NhZ2VzKTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgZnVuY3Rpb24gX2FwcGVuZFVzZXJNZXNzYWdlKG1zZykge1xuICAgICAgICAgICAgICAgICRsb2cubG9nKCdjb252b0NoYXRib3ggX2FwcGVuZFVzZXJNZXNzYWdlKCknLCBtc2cpO1xuICAgICAgICAgICAgICAgICRzY29wZS5tZXNzYWdlcy5wdXNoKCBtc2cpO1xuICAgICAgICAgICAgICAgIHBlcnNpc3Rlci5zZXRNZXNzYWdlcyggJHNjb3BlLm1lc3NhZ2VzKTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgLy8gUE9TVFBPTkVEIElOSVRcbiAgICAgICAgICAgICRzY29wZS4kd2F0Y2goJ2NvbGxhcHNlZCcsIGZ1bmN0aW9uICggdmFsKSB7XG4gICAgICAgICAgICAgICAgJGxvZy5sb2coJ2NvbnZvQ2hhdGJveCAkd2F0Y2ggY29sbGFwc2VkJyk7XG4gICAgICAgICAgICAgICAgaWYgKCAhdmFsICYmICFpbml0aWFsaXplZCkge1xuICAgICAgICAgICAgICAgICAgICBfaW5pdCgpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0pO1xuXG4gICAgICAgICAgICAvLyBBTklNQVRFIFNDUk9MTFxuICAgICAgICAgICAgJHNjb3BlLiR3YXRjaENvbGxlY3Rpb24oJ21lc3NhZ2VzJywgZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgICAgICRsb2cubG9nKCdjb252b0NoYXRib3ggJHdhdGNoQ29sbGVjdGlvbigpJyk7XG4gICAgICAgICAgICAgICAgc2V0VGltZW91dChmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAgICAgICAgICRsb2cubG9nKCdjb252b0NoYXRib3ggcXVldWUoKScpO1xuICAgICAgICAgICAgICAgICAgICB2YXIgJGxpc3QgPSAkZWxlbS5maW5kKCcjY2hhdC1wYW5lbC1ib2R5Jyk7XG4gICAgICAgICAgICAgICAgICAgIHZhciBzY3JvbGxIZWlnaHQgPSAkbGlzdC5wcm9wKCdzY3JvbGxIZWlnaHQnKTtcbiAgICAgICAgICAgICAgICAgICAgJGxpc3QuYW5pbWF0ZSh7IHNjcm9sbFRvcDogc2Nyb2xsSGVpZ2h0IH0sIDUwMCk7XG4gICAgICAgICAgICAgICAgfSwgMTApO1xuICAgICAgICAgICAgfSk7XG5cbiAgICAgICAgICAgIC8vIEZPQ1VTXG4gICAgICAgICAgICAkc2NvcGUuJHdhdGNoKGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gJHNjb3BlLmlzU2VuZGluZygpO1xuICAgICAgICAgICAgfSwgZnVuY3Rpb24gKHNlbmRpbmcpIHtcbiAgICAgICAgICAgICAgICAkbG9nLmxvZygnY29udm9DaGF0Ym94ICR3YXRjaCgpIHNlbmRpbmcnLCBzZW5kaW5nKTtcbiAgICAgICAgICAgICAgICBzZXRUaW1lb3V0KGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgICAgICAgICAgJGxvZy5sb2coJ2NvbnZvQ2hhdGJveCBpbnB1dC5mb2N1cygpJyk7XG4gICAgICAgICAgICAgICAgICAgIGlucHV0LmZvY3VzKCk7XG4gICAgICAgICAgICAgICAgfSwgMTApO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgIH1cbiAgICB9O1xufVxuXG4iLCJpbXBvcnQgYW5ndWxhciBmcm9tICdhbmd1bGFyJztcblxuaW1wb3J0ICcuL2NvbnZvLWNoYXQuc2Nzcyc7XG5cbmltcG9ydCBDb252b0NoYXRBcGkgZnJvbSAnLi9jb252by1jaGF0LWFwaSc7XG5pbXBvcnQgQ29udm9DaGF0UGVyc2lzdGVyIGZyb20gJy4vY29udm8tY2hhdC1wZXJzaXN0ZXInO1xuaW1wb3J0IGNvbnZvQ2hhdGJveCBmcm9tICcuL2NoYXRib3guZGlyZWN0aXZlJztcblxuLyogQG5nSW5qZWN0ICovXG5leHBvcnQgZGVmYXVsdCBhbmd1bGFyXG4gIC5tb2R1bGUoJ2NvbnZvLmNoYXQnLCBbXSlcbiAgLmRpcmVjdGl2ZSgnY29udm9DaGF0Ym94JywgY29udm9DaGF0Ym94KVxuICAuc2VydmljZSgnQ29udm9DaGF0QXBpJywgQ29udm9DaGF0QXBpKVxuICAuc2VydmljZSgnQ29udm9DaGF0UGVyc2lzdGVyJywgQ29udm9DaGF0UGVyc2lzdGVyKVxuICAubmFtZTtcbiJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///858\n")},892:(module,exports,__webpack_require__)=>{eval('exports = module.exports = __webpack_require__(252)(false);\n// imports\n\n\n// module\nexports.push([module.id, ".convo-chat pre>code{display:block;padding:5px 10px}.convo-chat input[type=text]{font-size:.75em;padding:5px 10px;height:2.5em}.convo-chat .chat{list-style:none;margin:0 !important;padding:0 !important}.convo-chat .chat li{padding:2px 2px;margin:0;position:relative;clear:both}.convo-chat .chat li.break{line-height:8px}.convo-chat .right{float:right}.convo-chat .left{float:left}.convo-chat .btn-group,.convo-chat .btn-group-vertical{position:relative;display:-ms-inline-flexbox;display:inline-flex;vertical-align:middle}.convo-chat .chat li .chat-body{max-width:93%;padding:5px 10px;border-radius:12px;font-size:.75em}.convo-chat .chat li .chat-body h1{font-size:1.75em;font-weight:600}.convo-chat .chat li .chat-body h2{font-size:1.5em;margin-block-end:.5em;font-weight:600}.convo-chat .chat li .chat-body h3{font-size:1.25em;margin-block-end:.5em;font-weight:600}.convo-chat .chat li .chat-body h4{font-size:1em;margin-block-end:.5em;font-weight:500}.convo-chat .chat li .chat-body code{font-size:87.5%;color:#e83e8c;word-wrap:break-word}.convo-chat .chat li .chat-body pre{display:block;font-size:87.5%;color:#212529;margin-top:0;margin-bottom:1rem;overflow:auto}.convo-chat .chat li .chat-body pre code{font-size:inherit;color:inherit;word-break:normal;background:rgba(0,0,0,.07);unicode-bidi:embed}.convo-chat .chat li .chat-body blockquote{margin:0;padding-left:10px;padding-top:10px;padding-bottom:10px;border-color:rgba(0,0,0,.7);border-left-width:2px}.convo-chat .chat li .chat-body blockquote p{font-weight:600;font-size:1em;line-height:1.5em}.convo-chat .chat li .chat-body img{max-width:90%}.convo-chat .chat li .chat-body ul,.convo-chat .chat li .chat-body ol{display:block;list-style:disc outside none;margin:5px 0;padding:0 0 0 15px;line-height:1em;margin-block-start:5px}.convo-chat .chat li .chat-body ol{list-style-type:decimal}.convo-chat .chat li .chat-body li{display:list-item;margin-bottom:0;line-height:1.5em}.convo-chat .chat li .chat-body li>p{display:inline}.convo-chat .chat li .chat-body.system-message{border-top-left-radius:0;background-color:#ececec;text-align:left;border:1px solid #ececec;color:#000 !important}.convo-chat .chat li .chat-body.user-message{border-top-right-radius:0;border:1px solid #5595dd;background-color:#5595dd;color:#fff !important}.convo-chat .chat li .chat-body p{margin:5px 0;font-size:inherit;color:inherit;line-height:inherit}.convo-chat .chat .chat-img img{margin:2px 6px 0 0;width:40px}.convo-chat .card{position:relative;display:-ms-flexbox;display:flex;-ms-flex-direction:column;flex-direction:column;word-wrap:break-word;background-color:#fff;background-clip:border-box;border:1px solid rgba(0,0,0,0);border-radius:.5em;box-shadow:5px 5px 25px 5px rgba(46,61,73,.2)}.convo-chat .card-header{background-color:#2f74ea;color:#fff;padding:.75em 1em;margin:-1px;margin-bottom:0;border-bottom:1px solid rgba(0,0,0,.125);font-weight:600;border-top-left-radius:.5em;border-top-right-radius:.5em}.convo-chat .card-header i{font-size:1.5em}.convo-chat .card .slidedown .fa,.convo-chat .chat .fa{margin-right:5px}.convo-chat .card-body{overflow-y:scroll}.convo-chat .convo-form-group{font-family:inherit;margin-bottom:1em}.convo-chat .convo-form-group.inline input,.convo-chat .convo-form-group.inline button{display:inline;outline-width:1px;outline-offset:-1px;outline-style:solid;outline-color:#bbb}.convo-chat .convo-form-group .convo-form-input{border:1px solid #bbb;border-radius:8px;width:100%;padding:.3em .5em;transition:border-color 100ms ease-in-out;font-family:inherit}.convo-chat .convo-form-group .convo-form-input:focus{outline-color:#2f74ea;border-color:#2f74ea}.convo-chat input::placeholder{color:#bbb}.convo-chat button.btn,.convo-chat a.btn{border-radius:0px;font-size:.9em;font-weight:500;font-family:inherit;color:#fff;transition:background-color 50ms ease-in;background-color:#2f74ea;border:none;outline:none;padding:0;text-transform:none;margin:0 2px 0 8px}.convo-chat .card-header .btn-group button.btn{margin:0 2px 0 8px !important}.convo-chat button.btn:hover,.convo-chat a.btn:hover{background-color:#007bff;cursor:pointer}.convo-chat button.btn.start-chat{border-radius:50%;padding:.75em;cursor:pointer;box-shadow:5px 5px 25px 0 rgba(46,61,73,.2)}.convo-chat #chat{display:flex;flex-flow:row nowrap;justify-content:center;align-items:stretch;margin-bottom:-1px}.convo-chat #chat-panel-body{padding:.5em}.convo-chat .card-footer{padding:0;background-color:rgba(0,0,0,.03)}.convo-chat .card-footer button.btn-send{color:#2f74ea;background-color:#fff;border:1px solid #2f74ea;outline-color:#2f74ea;outline-offset:-1px;border-collapse:collapse}.convo-chat .card-footer .convo-form-input[disabled=disabled],.convo-chat .card-footer button.btn-send[disabled=disabled]{color:#bbb;outline-color:#bbb;border:1px solid #bbb}.convo-chat .card-footer button.btn-send:hover,.convo-chat .card-footer button.btn-send:focus{color:#fff;background-color:#2f74ea;outline-color:#2f74ea}.convo-chat .card-footer button.btn-send[disabled=disabled]:hover{color:#bbb;outline-color:#bbb;border:1px solid #bbb;background-color:#fff}.convo-chat .card-footer #message,.convo-chat .card-footer #send{margin:0;display:inline-block}.convo-chat .card-footer #chat #message{border-top-right-radius:0;border-bottom-right-radius:0}.convo-chat .card-footer #send{width:55px;border-radius:0 8px 8px 0;font-size:1em}.convo-chat .lds-ellipsis{position:relative;width:80px;height:40px;float:left}.convo-chat .lds-ellipsis div{position:absolute;top:13px;width:13px;height:13px;border-radius:50%;background:#aaa;animation-timing-function:cubic-bezier(0, 1, 1, 0)}.convo-chat .lds-ellipsis div:nth-child(1){left:8px;animation:lds-ellipsis1 .6s infinite}.convo-chat .lds-ellipsis div:nth-child(2){left:8px;animation:lds-ellipsis2 .6s infinite}.convo-chat .lds-ellipsis div:nth-child(3){left:32px;animation:lds-ellipsis2 .6s infinite}.convo-chat .lds-ellipsis div:nth-child(4){left:56px;animation:lds-ellipsis3 .6s infinite}@keyframes lds-ellipsis1{0%{transform:scale(0)}100%{transform:scale(1)}}@keyframes lds-ellipsis3{0%{transform:scale(1)}100%{transform:scale(0)}}@keyframes lds-ellipsis2{0%{transform:translate(0, 0)}100%{transform:translate(24px, 0)}}", ""]);\n\n// exports\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiODkyLmpzIiwibWFwcGluZ3MiOiJBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9jb252b3dvcmtzLXdwLy4vY2hhdC9jb252by1jaGF0LnNjc3M/YWIxMiJdLCJzb3VyY2VzQ29udGVudCI6WyJleHBvcnRzID0gbW9kdWxlLmV4cG9ydHMgPSByZXF1aXJlKFwiLi4vbm9kZV9tb2R1bGVzL2Nzcy1sb2FkZXIvbGliL2Nzcy1iYXNlLmpzXCIpKGZhbHNlKTtcbi8vIGltcG9ydHNcblxuXG4vLyBtb2R1bGVcbmV4cG9ydHMucHVzaChbbW9kdWxlLmlkLCBcIi5jb252by1jaGF0IHByZT5jb2Rle2Rpc3BsYXk6YmxvY2s7cGFkZGluZzo1cHggMTBweH0uY29udm8tY2hhdCBpbnB1dFt0eXBlPXRleHRde2ZvbnQtc2l6ZTouNzVlbTtwYWRkaW5nOjVweCAxMHB4O2hlaWdodDoyLjVlbX0uY29udm8tY2hhdCAuY2hhdHtsaXN0LXN0eWxlOm5vbmU7bWFyZ2luOjAgIWltcG9ydGFudDtwYWRkaW5nOjAgIWltcG9ydGFudH0uY29udm8tY2hhdCAuY2hhdCBsaXtwYWRkaW5nOjJweCAycHg7bWFyZ2luOjA7cG9zaXRpb246cmVsYXRpdmU7Y2xlYXI6Ym90aH0uY29udm8tY2hhdCAuY2hhdCBsaS5icmVha3tsaW5lLWhlaWdodDo4cHh9LmNvbnZvLWNoYXQgLnJpZ2h0e2Zsb2F0OnJpZ2h0fS5jb252by1jaGF0IC5sZWZ0e2Zsb2F0OmxlZnR9LmNvbnZvLWNoYXQgLmJ0bi1ncm91cCwuY29udm8tY2hhdCAuYnRuLWdyb3VwLXZlcnRpY2Fse3Bvc2l0aW9uOnJlbGF0aXZlO2Rpc3BsYXk6LW1zLWlubGluZS1mbGV4Ym94O2Rpc3BsYXk6aW5saW5lLWZsZXg7dmVydGljYWwtYWxpZ246bWlkZGxlfS5jb252by1jaGF0IC5jaGF0IGxpIC5jaGF0LWJvZHl7bWF4LXdpZHRoOjkzJTtwYWRkaW5nOjVweCAxMHB4O2JvcmRlci1yYWRpdXM6MTJweDtmb250LXNpemU6Ljc1ZW19LmNvbnZvLWNoYXQgLmNoYXQgbGkgLmNoYXQtYm9keSBoMXtmb250LXNpemU6MS43NWVtO2ZvbnQtd2VpZ2h0OjYwMH0uY29udm8tY2hhdCAuY2hhdCBsaSAuY2hhdC1ib2R5IGgye2ZvbnQtc2l6ZToxLjVlbTttYXJnaW4tYmxvY2stZW5kOi41ZW07Zm9udC13ZWlnaHQ6NjAwfS5jb252by1jaGF0IC5jaGF0IGxpIC5jaGF0LWJvZHkgaDN7Zm9udC1zaXplOjEuMjVlbTttYXJnaW4tYmxvY2stZW5kOi41ZW07Zm9udC13ZWlnaHQ6NjAwfS5jb252by1jaGF0IC5jaGF0IGxpIC5jaGF0LWJvZHkgaDR7Zm9udC1zaXplOjFlbTttYXJnaW4tYmxvY2stZW5kOi41ZW07Zm9udC13ZWlnaHQ6NTAwfS5jb252by1jaGF0IC5jaGF0IGxpIC5jaGF0LWJvZHkgY29kZXtmb250LXNpemU6ODcuNSU7Y29sb3I6I2U4M2U4Yzt3b3JkLXdyYXA6YnJlYWstd29yZH0uY29udm8tY2hhdCAuY2hhdCBsaSAuY2hhdC1ib2R5IHByZXtkaXNwbGF5OmJsb2NrO2ZvbnQtc2l6ZTo4Ny41JTtjb2xvcjojMjEyNTI5O21hcmdpbi10b3A6MDttYXJnaW4tYm90dG9tOjFyZW07b3ZlcmZsb3c6YXV0b30uY29udm8tY2hhdCAuY2hhdCBsaSAuY2hhdC1ib2R5IHByZSBjb2Rle2ZvbnQtc2l6ZTppbmhlcml0O2NvbG9yOmluaGVyaXQ7d29yZC1icmVhazpub3JtYWw7YmFja2dyb3VuZDpyZ2JhKDAsMCwwLC4wNyk7dW5pY29kZS1iaWRpOmVtYmVkfS5jb252by1jaGF0IC5jaGF0IGxpIC5jaGF0LWJvZHkgYmxvY2txdW90ZXttYXJnaW46MDtwYWRkaW5nLWxlZnQ6MTBweDtwYWRkaW5nLXRvcDoxMHB4O3BhZGRpbmctYm90dG9tOjEwcHg7Ym9yZGVyLWNvbG9yOnJnYmEoMCwwLDAsLjcpO2JvcmRlci1sZWZ0LXdpZHRoOjJweH0uY29udm8tY2hhdCAuY2hhdCBsaSAuY2hhdC1ib2R5IGJsb2NrcXVvdGUgcHtmb250LXdlaWdodDo2MDA7Zm9udC1zaXplOjFlbTtsaW5lLWhlaWdodDoxLjVlbX0uY29udm8tY2hhdCAuY2hhdCBsaSAuY2hhdC1ib2R5IGltZ3ttYXgtd2lkdGg6OTAlfS5jb252by1jaGF0IC5jaGF0IGxpIC5jaGF0LWJvZHkgdWwsLmNvbnZvLWNoYXQgLmNoYXQgbGkgLmNoYXQtYm9keSBvbHtkaXNwbGF5OmJsb2NrO2xpc3Qtc3R5bGU6ZGlzYyBvdXRzaWRlIG5vbmU7bWFyZ2luOjVweCAwO3BhZGRpbmc6MCAwIDAgMTVweDtsaW5lLWhlaWdodDoxZW07bWFyZ2luLWJsb2NrLXN0YXJ0OjVweH0uY29udm8tY2hhdCAuY2hhdCBsaSAuY2hhdC1ib2R5IG9se2xpc3Qtc3R5bGUtdHlwZTpkZWNpbWFsfS5jb252by1jaGF0IC5jaGF0IGxpIC5jaGF0LWJvZHkgbGl7ZGlzcGxheTpsaXN0LWl0ZW07bWFyZ2luLWJvdHRvbTowO2xpbmUtaGVpZ2h0OjEuNWVtfS5jb252by1jaGF0IC5jaGF0IGxpIC5jaGF0LWJvZHkgbGk+cHtkaXNwbGF5OmlubGluZX0uY29udm8tY2hhdCAuY2hhdCBsaSAuY2hhdC1ib2R5LnN5c3RlbS1tZXNzYWdle2JvcmRlci10b3AtbGVmdC1yYWRpdXM6MDtiYWNrZ3JvdW5kLWNvbG9yOiNlY2VjZWM7dGV4dC1hbGlnbjpsZWZ0O2JvcmRlcjoxcHggc29saWQgI2VjZWNlYztjb2xvcjojMDAwICFpbXBvcnRhbnR9LmNvbnZvLWNoYXQgLmNoYXQgbGkgLmNoYXQtYm9keS51c2VyLW1lc3NhZ2V7Ym9yZGVyLXRvcC1yaWdodC1yYWRpdXM6MDtib3JkZXI6MXB4IHNvbGlkICM1NTk1ZGQ7YmFja2dyb3VuZC1jb2xvcjojNTU5NWRkO2NvbG9yOiNmZmYgIWltcG9ydGFudH0uY29udm8tY2hhdCAuY2hhdCBsaSAuY2hhdC1ib2R5IHB7bWFyZ2luOjVweCAwO2ZvbnQtc2l6ZTppbmhlcml0O2NvbG9yOmluaGVyaXQ7bGluZS1oZWlnaHQ6aW5oZXJpdH0uY29udm8tY2hhdCAuY2hhdCAuY2hhdC1pbWcgaW1ne21hcmdpbjoycHggNnB4IDAgMDt3aWR0aDo0MHB4fS5jb252by1jaGF0IC5jYXJke3Bvc2l0aW9uOnJlbGF0aXZlO2Rpc3BsYXk6LW1zLWZsZXhib3g7ZGlzcGxheTpmbGV4Oy1tcy1mbGV4LWRpcmVjdGlvbjpjb2x1bW47ZmxleC1kaXJlY3Rpb246Y29sdW1uO3dvcmQtd3JhcDpicmVhay13b3JkO2JhY2tncm91bmQtY29sb3I6I2ZmZjtiYWNrZ3JvdW5kLWNsaXA6Ym9yZGVyLWJveDtib3JkZXI6MXB4IHNvbGlkIHJnYmEoMCwwLDAsMCk7Ym9yZGVyLXJhZGl1czouNWVtO2JveC1zaGFkb3c6NXB4IDVweCAyNXB4IDVweCByZ2JhKDQ2LDYxLDczLC4yKX0uY29udm8tY2hhdCAuY2FyZC1oZWFkZXJ7YmFja2dyb3VuZC1jb2xvcjojMmY3NGVhO2NvbG9yOiNmZmY7cGFkZGluZzouNzVlbSAxZW07bWFyZ2luOi0xcHg7bWFyZ2luLWJvdHRvbTowO2JvcmRlci1ib3R0b206MXB4IHNvbGlkIHJnYmEoMCwwLDAsLjEyNSk7Zm9udC13ZWlnaHQ6NjAwO2JvcmRlci10b3AtbGVmdC1yYWRpdXM6LjVlbTtib3JkZXItdG9wLXJpZ2h0LXJhZGl1czouNWVtfS5jb252by1jaGF0IC5jYXJkLWhlYWRlciBpe2ZvbnQtc2l6ZToxLjVlbX0uY29udm8tY2hhdCAuY2FyZCAuc2xpZGVkb3duIC5mYSwuY29udm8tY2hhdCAuY2hhdCAuZmF7bWFyZ2luLXJpZ2h0OjVweH0uY29udm8tY2hhdCAuY2FyZC1ib2R5e292ZXJmbG93LXk6c2Nyb2xsfS5jb252by1jaGF0IC5jb252by1mb3JtLWdyb3Vwe2ZvbnQtZmFtaWx5OmluaGVyaXQ7bWFyZ2luLWJvdHRvbToxZW19LmNvbnZvLWNoYXQgLmNvbnZvLWZvcm0tZ3JvdXAuaW5saW5lIGlucHV0LC5jb252by1jaGF0IC5jb252by1mb3JtLWdyb3VwLmlubGluZSBidXR0b257ZGlzcGxheTppbmxpbmU7b3V0bGluZS13aWR0aDoxcHg7b3V0bGluZS1vZmZzZXQ6LTFweDtvdXRsaW5lLXN0eWxlOnNvbGlkO291dGxpbmUtY29sb3I6I2JiYn0uY29udm8tY2hhdCAuY29udm8tZm9ybS1ncm91cCAuY29udm8tZm9ybS1pbnB1dHtib3JkZXI6MXB4IHNvbGlkICNiYmI7Ym9yZGVyLXJhZGl1czo4cHg7d2lkdGg6MTAwJTtwYWRkaW5nOi4zZW0gLjVlbTt0cmFuc2l0aW9uOmJvcmRlci1jb2xvciAxMDBtcyBlYXNlLWluLW91dDtmb250LWZhbWlseTppbmhlcml0fS5jb252by1jaGF0IC5jb252by1mb3JtLWdyb3VwIC5jb252by1mb3JtLWlucHV0OmZvY3Vze291dGxpbmUtY29sb3I6IzJmNzRlYTtib3JkZXItY29sb3I6IzJmNzRlYX0uY29udm8tY2hhdCBpbnB1dDo6cGxhY2Vob2xkZXJ7Y29sb3I6I2JiYn0uY29udm8tY2hhdCBidXR0b24uYnRuLC5jb252by1jaGF0IGEuYnRue2JvcmRlci1yYWRpdXM6MHB4O2ZvbnQtc2l6ZTouOWVtO2ZvbnQtd2VpZ2h0OjUwMDtmb250LWZhbWlseTppbmhlcml0O2NvbG9yOiNmZmY7dHJhbnNpdGlvbjpiYWNrZ3JvdW5kLWNvbG9yIDUwbXMgZWFzZS1pbjtiYWNrZ3JvdW5kLWNvbG9yOiMyZjc0ZWE7Ym9yZGVyOm5vbmU7b3V0bGluZTpub25lO3BhZGRpbmc6MDt0ZXh0LXRyYW5zZm9ybTpub25lO21hcmdpbjowIDJweCAwIDhweH0uY29udm8tY2hhdCAuY2FyZC1oZWFkZXIgLmJ0bi1ncm91cCBidXR0b24uYnRue21hcmdpbjowIDJweCAwIDhweCAhaW1wb3J0YW50fS5jb252by1jaGF0IGJ1dHRvbi5idG46aG92ZXIsLmNvbnZvLWNoYXQgYS5idG46aG92ZXJ7YmFja2dyb3VuZC1jb2xvcjojMDA3YmZmO2N1cnNvcjpwb2ludGVyfS5jb252by1jaGF0IGJ1dHRvbi5idG4uc3RhcnQtY2hhdHtib3JkZXItcmFkaXVzOjUwJTtwYWRkaW5nOi43NWVtO2N1cnNvcjpwb2ludGVyO2JveC1zaGFkb3c6NXB4IDVweCAyNXB4IDAgcmdiYSg0Niw2MSw3MywuMil9LmNvbnZvLWNoYXQgI2NoYXR7ZGlzcGxheTpmbGV4O2ZsZXgtZmxvdzpyb3cgbm93cmFwO2p1c3RpZnktY29udGVudDpjZW50ZXI7YWxpZ24taXRlbXM6c3RyZXRjaDttYXJnaW4tYm90dG9tOi0xcHh9LmNvbnZvLWNoYXQgI2NoYXQtcGFuZWwtYm9keXtwYWRkaW5nOi41ZW19LmNvbnZvLWNoYXQgLmNhcmQtZm9vdGVye3BhZGRpbmc6MDtiYWNrZ3JvdW5kLWNvbG9yOnJnYmEoMCwwLDAsLjAzKX0uY29udm8tY2hhdCAuY2FyZC1mb290ZXIgYnV0dG9uLmJ0bi1zZW5ke2NvbG9yOiMyZjc0ZWE7YmFja2dyb3VuZC1jb2xvcjojZmZmO2JvcmRlcjoxcHggc29saWQgIzJmNzRlYTtvdXRsaW5lLWNvbG9yOiMyZjc0ZWE7b3V0bGluZS1vZmZzZXQ6LTFweDtib3JkZXItY29sbGFwc2U6Y29sbGFwc2V9LmNvbnZvLWNoYXQgLmNhcmQtZm9vdGVyIC5jb252by1mb3JtLWlucHV0W2Rpc2FibGVkPWRpc2FibGVkXSwuY29udm8tY2hhdCAuY2FyZC1mb290ZXIgYnV0dG9uLmJ0bi1zZW5kW2Rpc2FibGVkPWRpc2FibGVkXXtjb2xvcjojYmJiO291dGxpbmUtY29sb3I6I2JiYjtib3JkZXI6MXB4IHNvbGlkICNiYmJ9LmNvbnZvLWNoYXQgLmNhcmQtZm9vdGVyIGJ1dHRvbi5idG4tc2VuZDpob3ZlciwuY29udm8tY2hhdCAuY2FyZC1mb290ZXIgYnV0dG9uLmJ0bi1zZW5kOmZvY3Vze2NvbG9yOiNmZmY7YmFja2dyb3VuZC1jb2xvcjojMmY3NGVhO291dGxpbmUtY29sb3I6IzJmNzRlYX0uY29udm8tY2hhdCAuY2FyZC1mb290ZXIgYnV0dG9uLmJ0bi1zZW5kW2Rpc2FibGVkPWRpc2FibGVkXTpob3Zlcntjb2xvcjojYmJiO291dGxpbmUtY29sb3I6I2JiYjtib3JkZXI6MXB4IHNvbGlkICNiYmI7YmFja2dyb3VuZC1jb2xvcjojZmZmfS5jb252by1jaGF0IC5jYXJkLWZvb3RlciAjbWVzc2FnZSwuY29udm8tY2hhdCAuY2FyZC1mb290ZXIgI3NlbmR7bWFyZ2luOjA7ZGlzcGxheTppbmxpbmUtYmxvY2t9LmNvbnZvLWNoYXQgLmNhcmQtZm9vdGVyICNjaGF0ICNtZXNzYWdle2JvcmRlci10b3AtcmlnaHQtcmFkaXVzOjA7Ym9yZGVyLWJvdHRvbS1yaWdodC1yYWRpdXM6MH0uY29udm8tY2hhdCAuY2FyZC1mb290ZXIgI3NlbmR7d2lkdGg6NTVweDtib3JkZXItcmFkaXVzOjAgOHB4IDhweCAwO2ZvbnQtc2l6ZToxZW19LmNvbnZvLWNoYXQgLmxkcy1lbGxpcHNpc3twb3NpdGlvbjpyZWxhdGl2ZTt3aWR0aDo4MHB4O2hlaWdodDo0MHB4O2Zsb2F0OmxlZnR9LmNvbnZvLWNoYXQgLmxkcy1lbGxpcHNpcyBkaXZ7cG9zaXRpb246YWJzb2x1dGU7dG9wOjEzcHg7d2lkdGg6MTNweDtoZWlnaHQ6MTNweDtib3JkZXItcmFkaXVzOjUwJTtiYWNrZ3JvdW5kOiNhYWE7YW5pbWF0aW9uLXRpbWluZy1mdW5jdGlvbjpjdWJpYy1iZXppZXIoMCwgMSwgMSwgMCl9LmNvbnZvLWNoYXQgLmxkcy1lbGxpcHNpcyBkaXY6bnRoLWNoaWxkKDEpe2xlZnQ6OHB4O2FuaW1hdGlvbjpsZHMtZWxsaXBzaXMxIC42cyBpbmZpbml0ZX0uY29udm8tY2hhdCAubGRzLWVsbGlwc2lzIGRpdjpudGgtY2hpbGQoMil7bGVmdDo4cHg7YW5pbWF0aW9uOmxkcy1lbGxpcHNpczIgLjZzIGluZmluaXRlfS5jb252by1jaGF0IC5sZHMtZWxsaXBzaXMgZGl2Om50aC1jaGlsZCgzKXtsZWZ0OjMycHg7YW5pbWF0aW9uOmxkcy1lbGxpcHNpczIgLjZzIGluZmluaXRlfS5jb252by1jaGF0IC5sZHMtZWxsaXBzaXMgZGl2Om50aC1jaGlsZCg0KXtsZWZ0OjU2cHg7YW5pbWF0aW9uOmxkcy1lbGxpcHNpczMgLjZzIGluZmluaXRlfUBrZXlmcmFtZXMgbGRzLWVsbGlwc2lzMXswJXt0cmFuc2Zvcm06c2NhbGUoMCl9MTAwJXt0cmFuc2Zvcm06c2NhbGUoMSl9fUBrZXlmcmFtZXMgbGRzLWVsbGlwc2lzM3swJXt0cmFuc2Zvcm06c2NhbGUoMSl9MTAwJXt0cmFuc2Zvcm06c2NhbGUoMCl9fUBrZXlmcmFtZXMgbGRzLWVsbGlwc2lzMnswJXt0cmFuc2Zvcm06dHJhbnNsYXRlKDAsIDApfTEwMCV7dHJhbnNmb3JtOnRyYW5zbGF0ZSgyNHB4LCAwKX19XCIsIFwiXCJdKTtcblxuLy8gZXhwb3J0c1xuIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///892\n')},462:module=>{eval('module.exports = "<div class=\\"convo-chat\\">\\n    <div ng-hide=\\"!collapsed\\">\\n        <button type=\\"button\\" class=\\"btn start-chat\\" title=\\"\\" ng-click=\\"open()\\">\\n            <i class=\\"fa fa-comment fa-2x\\"></i>\\n        </button>\\n    </div>\\n    <div class=\\"card\\" ng-hide=\\"collapsed\\">\\n        <div class=\\"card-header\\">\\n\x3c!--             <i class=\\"fa fa-comment fa-2x\\"></i>  --\x3e\\n            {{ name }}\\n            <div class=\\"btn-group right\\">\\n\\t            <button type=\\"button\\" class=\\"btn\\" title=\\"Minimize chatbox\\" ng-click=\\"close()\\">\\n                    <i class=\\"fa fa-window-minimize\\"></i>\\n                </button>\\n\\t            <button type=\\"button\\" class=\\"btn\\" title=\\"End chat session\\" ng-click=\\"reset()\\">\\n                    <i class=\\"fa fa-window-close\\"></i>\\n                </button>\\n            </div>\\n        </div>\\n        <div class=\\"panel-collapse\\" id=\\"collapseOne\\">\\n            <div class=\\"card-body\\" id=\\"chat-panel-body\\">\\n                <ul class=\\"chat\\">\\n                    <li class=\\"clearfix\\" ng-repeat=\\"message in messages track by $index\\"\\n                        ng-class=\\"{ \'break\' : message.type == \'break\'}\\">\\n                        <div ng-if=\\"message.type != \'break\'\\" class=\\"clearfix chat-body\\"\\n                        ng-class=\\"{ \'right user-message\' : message.source == \'user\', \'left system-message\' : message.source == \'convo\'}\\"\\n                        ng-bind-html=\\"applyMarkdown( message)\\"></div>\\n                    </li>\\n                </ul>\\n                <div style=\\"height:6px; clear: both;\\"></div>\\n                <div class=\\"lds-ellipsis\\" ng-if=\\"isSending()\\"><div></div><div></div><div></div><div></div></div>\\n            </div>\\n            <div class=\\"card-footer\\">\\n                <form ng-submit=\\"formSubmitted()\\">\\n                    <div class=\\"convo-form-group inline\\" id=\\"chat\\">\\n\\n                        <input ng-model=\\"message\\" autocomplete=\\"off\\" id=\\"message\\" type=\\"text\\"\\n                               class=\\"convo-form-input\\" placeholder=\\"Type your message here...\\" ng-disabled=\\"isSending()\\">\\n                        <button ng-disabled=\\"formDisabled()\\" class=\\"btn btn-send\\" id=\\"send\\" type=\\"submit\\" aria-label=\\"Send message\\">\\n                            <i class=\\"fa fa-paper-plane\\"></i>\\n                        </button>\\n                    </div>\\n                </form>\\n            </div>\\n        </div>\\n    </div>\\n</div>\\n";//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiNDYyLmpzIiwibWFwcGluZ3MiOiJBQUFBIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vY29udm93b3Jrcy13cC8uL2NoYXQvY2hhdGJveC50bXBsLmh0bWw/ZmFhNyJdLCJzb3VyY2VzQ29udGVudCI6WyJtb2R1bGUuZXhwb3J0cyA9IFwiPGRpdiBjbGFzcz1cXFwiY29udm8tY2hhdFxcXCI+XFxuICAgIDxkaXYgbmctaGlkZT1cXFwiIWNvbGxhcHNlZFxcXCI+XFxuICAgICAgICA8YnV0dG9uIHR5cGU9XFxcImJ1dHRvblxcXCIgY2xhc3M9XFxcImJ0biBzdGFydC1jaGF0XFxcIiB0aXRsZT1cXFwiXFxcIiBuZy1jbGljaz1cXFwib3BlbigpXFxcIj5cXG4gICAgICAgICAgICA8aSBjbGFzcz1cXFwiZmEgZmEtY29tbWVudCBmYS0yeFxcXCI+PC9pPlxcbiAgICAgICAgPC9idXR0b24+XFxuICAgIDwvZGl2PlxcbiAgICA8ZGl2IGNsYXNzPVxcXCJjYXJkXFxcIiBuZy1oaWRlPVxcXCJjb2xsYXBzZWRcXFwiPlxcbiAgICAgICAgPGRpdiBjbGFzcz1cXFwiY2FyZC1oZWFkZXJcXFwiPlxcbjwhLS0gICAgICAgICAgICAgPGkgY2xhc3M9XFxcImZhIGZhLWNvbW1lbnQgZmEtMnhcXFwiPjwvaT4gIC0tPlxcbiAgICAgICAgICAgIHt7IG5hbWUgfX1cXG4gICAgICAgICAgICA8ZGl2IGNsYXNzPVxcXCJidG4tZ3JvdXAgcmlnaHRcXFwiPlxcblxcdCAgICAgICAgICAgIDxidXR0b24gdHlwZT1cXFwiYnV0dG9uXFxcIiBjbGFzcz1cXFwiYnRuXFxcIiB0aXRsZT1cXFwiTWluaW1pemUgY2hhdGJveFxcXCIgbmctY2xpY2s9XFxcImNsb3NlKClcXFwiPlxcbiAgICAgICAgICAgICAgICAgICAgPGkgY2xhc3M9XFxcImZhIGZhLXdpbmRvdy1taW5pbWl6ZVxcXCI+PC9pPlxcbiAgICAgICAgICAgICAgICA8L2J1dHRvbj5cXG5cXHQgICAgICAgICAgICA8YnV0dG9uIHR5cGU9XFxcImJ1dHRvblxcXCIgY2xhc3M9XFxcImJ0blxcXCIgdGl0bGU9XFxcIkVuZCBjaGF0IHNlc3Npb25cXFwiIG5nLWNsaWNrPVxcXCJyZXNldCgpXFxcIj5cXG4gICAgICAgICAgICAgICAgICAgIDxpIGNsYXNzPVxcXCJmYSBmYS13aW5kb3ctY2xvc2VcXFwiPjwvaT5cXG4gICAgICAgICAgICAgICAgPC9idXR0b24+XFxuICAgICAgICAgICAgPC9kaXY+XFxuICAgICAgICA8L2Rpdj5cXG4gICAgICAgIDxkaXYgY2xhc3M9XFxcInBhbmVsLWNvbGxhcHNlXFxcIiBpZD1cXFwiY29sbGFwc2VPbmVcXFwiPlxcbiAgICAgICAgICAgIDxkaXYgY2xhc3M9XFxcImNhcmQtYm9keVxcXCIgaWQ9XFxcImNoYXQtcGFuZWwtYm9keVxcXCI+XFxuICAgICAgICAgICAgICAgIDx1bCBjbGFzcz1cXFwiY2hhdFxcXCI+XFxuICAgICAgICAgICAgICAgICAgICA8bGkgY2xhc3M9XFxcImNsZWFyZml4XFxcIiBuZy1yZXBlYXQ9XFxcIm1lc3NhZ2UgaW4gbWVzc2FnZXMgdHJhY2sgYnkgJGluZGV4XFxcIlxcbiAgICAgICAgICAgICAgICAgICAgICAgIG5nLWNsYXNzPVxcXCJ7ICdicmVhaycgOiBtZXNzYWdlLnR5cGUgPT0gJ2JyZWFrJ31cXFwiPlxcbiAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgbmctaWY9XFxcIm1lc3NhZ2UudHlwZSAhPSAnYnJlYWsnXFxcIiBjbGFzcz1cXFwiY2xlYXJmaXggY2hhdC1ib2R5XFxcIlxcbiAgICAgICAgICAgICAgICAgICAgICAgIG5nLWNsYXNzPVxcXCJ7ICdyaWdodCB1c2VyLW1lc3NhZ2UnIDogbWVzc2FnZS5zb3VyY2UgPT0gJ3VzZXInLCAnbGVmdCBzeXN0ZW0tbWVzc2FnZScgOiBtZXNzYWdlLnNvdXJjZSA9PSAnY29udm8nfVxcXCJcXG4gICAgICAgICAgICAgICAgICAgICAgICBuZy1iaW5kLWh0bWw9XFxcImFwcGx5TWFya2Rvd24oIG1lc3NhZ2UpXFxcIj48L2Rpdj5cXG4gICAgICAgICAgICAgICAgICAgIDwvbGk+XFxuICAgICAgICAgICAgICAgIDwvdWw+XFxuICAgICAgICAgICAgICAgIDxkaXYgc3R5bGU9XFxcImhlaWdodDo2cHg7IGNsZWFyOiBib3RoO1xcXCI+PC9kaXY+XFxuICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9XFxcImxkcy1lbGxpcHNpc1xcXCIgbmctaWY9XFxcImlzU2VuZGluZygpXFxcIj48ZGl2PjwvZGl2PjxkaXY+PC9kaXY+PGRpdj48L2Rpdj48ZGl2PjwvZGl2PjwvZGl2PlxcbiAgICAgICAgICAgIDwvZGl2PlxcbiAgICAgICAgICAgIDxkaXYgY2xhc3M9XFxcImNhcmQtZm9vdGVyXFxcIj5cXG4gICAgICAgICAgICAgICAgPGZvcm0gbmctc3VibWl0PVxcXCJmb3JtU3VibWl0dGVkKClcXFwiPlxcbiAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzcz1cXFwiY29udm8tZm9ybS1ncm91cCBpbmxpbmVcXFwiIGlkPVxcXCJjaGF0XFxcIj5cXG5cXG4gICAgICAgICAgICAgICAgICAgICAgICA8aW5wdXQgbmctbW9kZWw9XFxcIm1lc3NhZ2VcXFwiIGF1dG9jb21wbGV0ZT1cXFwib2ZmXFxcIiBpZD1cXFwibWVzc2FnZVxcXCIgdHlwZT1cXFwidGV4dFxcXCJcXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY2xhc3M9XFxcImNvbnZvLWZvcm0taW5wdXRcXFwiIHBsYWNlaG9sZGVyPVxcXCJUeXBlIHlvdXIgbWVzc2FnZSBoZXJlLi4uXFxcIiBuZy1kaXNhYmxlZD1cXFwiaXNTZW5kaW5nKClcXFwiPlxcbiAgICAgICAgICAgICAgICAgICAgICAgIDxidXR0b24gbmctZGlzYWJsZWQ9XFxcImZvcm1EaXNhYmxlZCgpXFxcIiBjbGFzcz1cXFwiYnRuIGJ0bi1zZW5kXFxcIiBpZD1cXFwic2VuZFxcXCIgdHlwZT1cXFwic3VibWl0XFxcIiBhcmlhLWxhYmVsPVxcXCJTZW5kIG1lc3NhZ2VcXFwiPlxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8aSBjbGFzcz1cXFwiZmEgZmEtcGFwZXItcGxhbmVcXFwiPjwvaT5cXG4gICAgICAgICAgICAgICAgICAgICAgICA8L2J1dHRvbj5cXG4gICAgICAgICAgICAgICAgICAgIDwvZGl2PlxcbiAgICAgICAgICAgICAgICA8L2Zvcm0+XFxuICAgICAgICAgICAgPC9kaXY+XFxuICAgICAgICA8L2Rpdj5cXG4gICAgPC9kaXY+XFxuPC9kaXY+XFxuXCI7Il0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///462\n')}},__webpack_module_cache__={},deferred;function __webpack_require__(g){var I=__webpack_module_cache__[g];if(void 0!==I)return I.exports;var C=__webpack_module_cache__[g]={id:g,exports:{}};return __webpack_modules__[g].call(C.exports,C,C.exports,__webpack_require__),C.exports}__webpack_require__.m=__webpack_modules__,deferred=[],__webpack_require__.O=(g,I,C,c)=>{if(!I){var n=1/0;for(l=0;l<deferred.length;l++){for(var[I,C,c]=deferred[l],A=!0,e=0;e<I.length;e++)(!1&c||n>=c)&&Object.keys(__webpack_require__.O).every((g=>__webpack_require__.O[g](I[e])))?I.splice(e--,1):(A=!1,c<n&&(n=c));if(A){deferred.splice(l--,1);var t=C();void 0!==t&&(g=t)}}return g}c=c||0;for(var l=deferred.length;l>0&&deferred[l-1][2]>c;l--)deferred[l]=deferred[l-1];deferred[l]=[I,C,c]},__webpack_require__.n=g=>{var I=g&&g.__esModule?()=>g.default:()=>g;return __webpack_require__.d(I,{a:I}),I},__webpack_require__.d=(g,I)=>{for(var C in I)__webpack_require__.o(I,C)&&!__webpack_require__.o(g,C)&&Object.defineProperty(g,C,{enumerable:!0,get:I[C]})},__webpack_require__.o=(g,I)=>Object.prototype.hasOwnProperty.call(g,I),(()=>{var g={179:0};__webpack_require__.O.j=I=>0===g[I];var I=(I,C)=>{var c,n,[A,e,t]=C,l=0;if(A.some((I=>0!==g[I]))){for(c in e)__webpack_require__.o(e,c)&&(__webpack_require__.m[c]=e[c]);if(t)var o=t(__webpack_require__)}for(I&&I(C);l<A.length;l++)n=A[l],__webpack_require__.o(g,n)&&g[n]&&g[n][0](),g[n]=0;return __webpack_require__.O(o)},C=self.webpackChunkconvoworks_wp=self.webpackChunkconvoworks_wp||[];C.forEach(I.bind(null,0)),C.push=I.bind(null,C.push.bind(C))})(),__webpack_require__.nc=void 0;var __webpack_exports__=__webpack_require__.O(void 0,[736],(()=>__webpack_require__(858)));__webpack_exports__=__webpack_require__.O(__webpack_exports__)})();